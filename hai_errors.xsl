<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<axsl:stylesheet xmlns:axsl="http://www.w3.org/1999/XSL/Transform" xmlns:sch="http://purl.oclc.org/dsdl/schematron" version="1.0" xmlns:voc="http://www.lantanagroup.com/voc" voc:dummy-for-xmlns="" xmlns:svs="urn:ihe:iti:svs:2008" svs:dummy-for-xmlns="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:dummy-for-xmlns="" xmlns:sdtc="urn:hl7-org:sdtc" sdtc:dummy-for-xmlns="" xmlns:cda="urn:hl7-org:v3" cda:dummy-for-xmlns="">
<axsl:output indent="yes" standalone="yes" omit-xml-declaration="no" method="xml"/>
<axsl:template mode="schematron-get-full-path" match="*|@*">
<axsl:apply-templates mode="schematron-get-full-path" select="parent::*"/>
<axsl:text>/</axsl:text>
<axsl:if test="count(. | ../@*) = count(../@*)">@</axsl:if>
<axsl:value-of select="name()"/>
<axsl:text>[</axsl:text>
<axsl:value-of select="1+count(preceding-sibling::*[name()=name(current())])"/>
<axsl:text>]</axsl:text>
</axsl:template>
<axsl:template match="/">
<schematron-output phase="errors" schemaVersion="" title="">
<ns prefix="voc" uri="http://www.lantanagroup.com/voc"/>
<ns prefix="svs" uri="urn:ihe:iti:svs:2008"/>
<ns prefix="xsi" uri="http://www.w3.org/2001/XMLSchema-instance"/>
<ns prefix="sdtc" uri="urn:hl7-org:sdtc"/>
<ns prefix="cda" uri="urn:hl7-org:v3"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M7" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M8" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M9" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M10" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M11" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M12" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M13" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M14" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M15" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M16" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M17" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M18" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M19" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M20" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M21" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M22" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M23" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M24" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M25" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M26" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M27" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M28" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M29" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M30" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M31" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M32" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M33" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M34" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M35" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M36" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M37" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M38" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M39" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M40" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M41" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M42" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M43" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M44" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M45" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M46" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M47" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M48" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M49" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M50" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M51" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M52" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M53" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M54" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M55" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M56" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M57" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M58" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M59" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M60" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M61" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M62" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M63" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M64" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M65" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M66" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M67" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M68" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M69" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M70" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M71" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M72" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M73" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M74" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M75" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M76" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M77" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M78" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M79" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M80" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M81" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M82" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M83" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M84" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M85" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M86" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M87" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M88" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M89" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M90" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M91" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M92" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M93" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M94" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M95" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M96" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M97" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M98" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M99" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M100" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M101" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M102" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M103" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M104" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M105" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M106" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M107" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M108" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M109" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M110" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M111" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M112" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M113" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M114" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M115" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M116" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M117" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M118" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M119" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M120" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M121" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M122" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M123" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M124" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M125" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M126" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M127" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M128" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M129" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M130" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M131" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M132" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M133" select="/"/>
<active-pattern name="">
<axsl:apply-templates/>
</active-pattern>
<axsl:apply-templates mode="M134" select="/"/>
</schematron-output>
</axsl:template>
<axsl:template mode="M7" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.25']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.25']" id="r-2.16.840.1.113883.10.20.5.4.25-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M7"/>
</axsl:template>
<axsl:template mode="M7" priority="3997" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.25']/cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.25']/cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25']" id="r-2.16.840.1.113883.10.20.5.4.25-18460-branch-18460-errors"/>
<axsl:choose>
<axsl:when test="not(@extension)"/>
<axsl:otherwise>
<failed-assert role="" test="not(@extension)" id="a-18462-branch-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL NOT contain [0..0] @extension (CONF:18462).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M7"/>
</axsl:template>
<axsl:template mode="M7" priority="-1" match="text()"/>
<axsl:template mode="M8" priority="3999" match="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.112']">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.112']" id="r-2.16.840.1.113883.10.20.5.6.112-errors"/>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-19560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance administration (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19561">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19561).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-19562">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:19562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:consumable)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:consumable)=1" id="a-19563">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] consumable (CONF:19563).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.112'])=1" id="a-19570">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19570) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.112" (CONF:19571).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19572">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19572).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19573">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19573).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19574">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:19574).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable[count(cda:manufacturedProduct)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable[count(cda:manufacturedProduct)=1]" id="a-19578">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:19578).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]" id="a-19579">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:19579).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]" id="a-19580">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:19580).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code='84451006']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code='84451006']" id="a-19581">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="84451006" General Anesthesia (CONF:19581).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-19582">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CONF:19582).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22720">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22720).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M8"/>
</axsl:template>
<axsl:template mode="M8" priority="-1" match="text()"/>
<axsl:template mode="M9" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.113']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.113']" id="r-2.16.840.1.113883.10.20.5.6.113-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19583">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19583).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19584">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19584).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'        or /cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB']"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false' or /cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB']" id="a-19585-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:19585).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19586">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19586).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19587">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19587).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19588">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19588).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19589">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19589).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.10']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.10']/voc:code/@value])=1" id="a-19590">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNASAClassCode 2.16.840.1.113883.13.10 STATIC 2008-01-30 (CONF:19590).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])=1" id="a-19594">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19594) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.113" (CONF:19595).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19596">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19596).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22724">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22724).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M9"/>
</axsl:template>
<axsl:template mode="M9" priority="-1" match="text()"/>
<axsl:template mode="M10" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.114']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.114']" id="r-2.16.840.1.113883.10.20.5.6.114-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19597">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19597).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19598">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19598).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-19599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:19599).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19600">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19601">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19601).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19602">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19602).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19603">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19604">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNBloodStreamInfectionEvidenceTypeCode 2.16.840.1.113883.13.7 DYNAMIC (CONF:19604).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.114'])=1" id="a-19608">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19608) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.114" (CONF:19609).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19610">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19610).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22725">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22725).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M10"/>
</axsl:template>
<axsl:template mode="M10" priority="-1" match="text()"/>
<axsl:template mode="M11" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.120']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.120']" id="r-2.16.840.1.113883.10.20.5.6.120-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19611">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19611).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19612">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19612).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-19613">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:19613).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19614">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19614).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19615">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19615).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19616">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19616).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19617">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19617).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19618">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:19618).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='419099009']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='419099009']" id="a-19619">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="419099009" Dead (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:19619).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.120'])=1" id="a-19623">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19623) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.120" (CONF:19624).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19625">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19625).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-19626">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:19626).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-19627">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:19627).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22739">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22739).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@nullFlavor='NA']" id="a-22740">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22740).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='CAUS']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='CAUS']" id="a-23064">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="CAUS" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23064).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']" id="a-23065">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:23065).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@negationInd]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@negationInd]" id="a-23066">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @negationInd (CONF:23066).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-23067-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the infection contributed to death, set the value of @negationInd to false. If the infection did not contribute to the death, set the value of @negationInd to true (CONF:23067).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.136'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.136'])=1]" id="a-23068">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Infection Contributed to Death Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.136) (CONF:23068).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-23069-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient died, an entryRelationship element SHALL be present and SHALL contain an Infection Contributed to Death Observation (CONF:23069).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M11"/>
</axsl:template>
<axsl:template mode="M11" priority="-1" match="text()"/>
<axsl:template mode="M12" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.121']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.121']" id="r-2.16.840.1.113883.10.20.5.6.121-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19628">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19628).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19629">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19629).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19630">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19630).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19631">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19631).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19632">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19632).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19633">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19633).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19634">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:19634).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='419099009']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='419099009']" id="a-19635">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="419099009" Dead (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:19635).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.121'])=1" id="a-19639">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19639) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.121" (CONF:19640).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19641">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19641).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-19642">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:19642).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-19643">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:19643).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-19646-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If @negationInd is present then @nullFlavor SHALL NOT contain a value (CONF:19646).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-19647-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If @nullFlavor is present then @negationInd SHALL NOT contain a value (CONF:19647).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-19648-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain either @nullFlavor or @negationInd, but SHALL NOT contain both (CONF:19648).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22742">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22742).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@nullFlavor='NA']" id="a-22743">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22743).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M12"/>
</axsl:template>
<axsl:template mode="M12" priority="-1" match="text()"/>
<axsl:template mode="M13" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.174']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.174']" id="r-2.16.840.1.113883.10.20.5.6.174-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19679">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19679).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19680">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19680).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19681">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19681).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='420089007' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='420089007' and @codeSystem='2.16.840.1.113883.6.96']" id="a-19682">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="420089007" CDC Wound Classification Category (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:19682).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19683">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19683).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19684">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19684).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.9']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.9']/voc:code/@value])=1" id="a-19685">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNWoundClassCode 2.16.840.1.113883.13.9 STATIC 2008-01-30 (CONF:19685).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.174'])=1" id="a-19689">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19689) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.174" (CONF:19690).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19691">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19691).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22717">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22717).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M13"/>
</axsl:template>
<axsl:template mode="M13" priority="-1" match="text()"/>
<axsl:template mode="M14" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.173']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.173']" id="r-2.16.840.1.113883.10.20.5.6.173-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19702">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19702).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19703">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-19704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:19704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19705">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19705).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='27113001' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='27113001' and @codeSystem='2.16.840.1.113883.6.96']" id="a-19706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="27113001" Body weight (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:19706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19707">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19707).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19708">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19708).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value/@xsi:type='PQ' and (cda:value/@value &gt;= 0)"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value/@xsi:type='PQ' and (cda:value/@value &gt;= 0)" id="a-19709-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:19709).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-19710-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of value/@value SHALL be a non-negative real number representing the body weight (CONF:19710).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.173'])=1" id="a-19712">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19712) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.173" (CONF:19714).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19897">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19897).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-19898">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:19898).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22718">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22718).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22719">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22719).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M14"/>
</axsl:template>
<axsl:template mode="M14" priority="-1" match="text()"/>
<axsl:template mode="M15" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.150']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.150']" id="r-2.16.840.1.113883.10.20.5.6.150-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19715">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19715).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19716">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19716).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-19717">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:19717).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19719">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19719).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19720">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19720).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19721">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19721).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19722">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']" id="a-19726">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:19726).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.154'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.154'])=1]" id="a-19727">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Procedure Details Clinical Statement in an Infection-Type Report (R1) (templateId:2.16.840.1.113883.10.20.5.6.154) (CONF:19727).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false' and count(cda:entryRelationship)=1"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false' and count(cda:entryRelationship)=1" id="a-19728-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @negationInd is false this entryRelationship SHALL be present (CONF:19728).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.150'])=1" id="a-19742">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19742) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.150" (CONF:19743).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19784">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:19784).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3188-0']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3188-0']" id="a-19785">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3188-0" Infection occurred post-procedure (CONF:19785).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.277']" id="a-19786">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:19786).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19882">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19882).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22782">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22782).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M15"/>
</axsl:template>
<axsl:template mode="M15" priority="-1" match="text()"/>
<axsl:template mode="M16" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.131']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.131']" id="r-2.16.840.1.113883.10.20.5.6.131-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19729">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19729).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19730">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19730).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-19731">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:19731).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19732">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19732).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='50373000' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='50373000' and @codeSystem='2.16.840.1.113883.6.96']" id="a-19733">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="50373000" Body height (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:19733).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19734">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19734).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19735">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19735).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='PQ'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='PQ'])=1" id="a-19736">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:19736).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.131'])=1" id="a-19746">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19746) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.131" (CONF:27434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-19749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:19749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='PQ'][@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='PQ'][@value]" id="a-19750">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @value (CONF:19750).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value/@value &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value/@value &gt; 0" id="a-19751-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of @value SHALL be a non-negative real number representing the body height in terms of the units specified in @unit (CONF:19751).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='PQ'][@unit]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='PQ'][@unit]" id="a-19752">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @unit (CONF:19752).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22753">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22753).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22754">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22754).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M16"/>
</axsl:template>
<axsl:template mode="M16" priority="-1" match="text()"/>
<axsl:template mode="M17" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.137']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.137']" id="r-2.16.840.1.113883.10.20.5.6.137-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19769">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19769).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19770">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19770).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-19771">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:19771).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19772">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19772).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='364589006']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='364589006']" id="a-19773">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="364589006" Birth weight (CONF:19773).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19774">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19774).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19775">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19775).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='PQ'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='PQ'])=1" id="a-19776">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:19776).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='PQ'][@xsi:type='PQ']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='PQ'][@xsi:type='PQ']" id="a-19777">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @xsi:type, where the @code="PQ" (CONF:19777).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.137'])=1" id="a-19780">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19780) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.137" (CONF:19781).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19782">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19782).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-19899">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:19899).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22759">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22759).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22760">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22760).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M17"/>
</axsl:template>
<axsl:template mode="M17" priority="-1" match="text()"/>
<axsl:template mode="M18" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.147']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.147']" id="r-2.16.840.1.113883.10.20.5.6.147-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19787">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19787).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19788">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19788).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19789">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19789).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19790">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19790).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19791">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19791).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19792">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19792).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@codeSystem='2.16.840.1.113883.6.277'][@xsi:type='CO'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@codeSystem='2.16.840.1.113883.6.277'][@xsi:type='CO'])=1" id="a-19793">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CO" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:19793).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value[@xsi:type='CO'][@codeSystem='2.16.840.1.113883.6.277'][@code='1' or @code='2' or @code='3'])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value[@xsi:type='CO'][@codeSystem='2.16.840.1.113883.6.277'][@code='1' or @code='2' or @code='3'])" id="a-19794-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of value/@codeSystem SHALL be 2.16.840.1.113883.6.277 cdcNHSN, and the value of value/@code SHALL be the number 1 or 2 or 3, where 1 represents the highest-ranked pathogen of up to three pathogens recorded (CONF:19794).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.147'])=1" id="a-19797">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19797) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.147" (CONF:19798).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19799">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19799).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22780">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22780).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M18"/>
</axsl:template>
<axsl:template mode="M18" priority="-1" match="text()"/>
<axsl:template mode="M19" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138']" id="r-2.16.840.1.113883.10.20.5.6.138-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19800">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19800).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19801">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19801).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-19802">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:19802).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19803">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19803).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19804">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19804).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19805">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19805).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19806">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19806).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.6']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.6']/voc:code/@value])=1" id="a-19807">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNInfectionRiskFactorsCode 2.16.840.1.113883.13.6 STATIC 2012-08-09 (CONF:19807).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']" id="a-19810">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CONF:19810).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']" id="a-19811">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:19811).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.122'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.122'])=1]" id="a-19812">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Device Insertion Time and Location Procedure (R1) (templateId:2.16.840.1.113883.10.20.5.6.122) (CONF:19812).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.138'])=1" id="a-19814">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19814) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.138" (CONF:19816).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19817">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19817).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22761">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22761).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M19"/>
</axsl:template>
<axsl:template mode="M19" priority="-1" match="text()"/>
<axsl:template mode="M20" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.149']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.149']" id="r-2.16.840.1.113883.10.20.5.6.149-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19818">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19818).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19819">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19819).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-19820">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:19820).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19821">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19821).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19822">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19822).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19823">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19823).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19824">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19824).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19825">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:19825).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='1955-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='1955-4']" id="a-19826">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="1955-4" Positive blood culture (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:19826).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-19827-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @negationInd is 'false', this observation (CONF:19827).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd = 'true' or (@negationInd = 'false' and cda:entryRelationship)"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd = 'true' or (@negationInd = 'false' and cda:entryRelationship)" id="a-19828-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:19828) such that it SHALL contain exactly one [1..1] @typeCode="CAUS" (CONF:19829). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:19830). SHALL contain exactly one [1..1] Suspected Source Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.168) (CONF:19831).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(@negationInd = 'true') or (@negationInd = 'false' and cda:entryRelationship[@typeCode='CAUS'])"/>
<axsl:otherwise>
<failed-assert role="" test="(@negationInd = 'true') or (@negationInd = 'false' and cda:entryRelationship[@typeCode='CAUS'])" id="a-19829-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="CAUS" (CONF:19829).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(@negationInd = 'true') or (@negationInd = 'false' and cda:entryRelationship[@inversionInd='true'])"/>
<axsl:otherwise>
<failed-assert role="" test="(@negationInd = 'true') or (@negationInd = 'false' and cda:entryRelationship[@inversionInd='true'])" id="a-19830-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @inversionInd="true" (CONF:19830).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-19831-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Suspected Source Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.168) (CONF:19831).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-19832-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The report SHALL contain a Findings Section (CONF:19832).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-19833-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the value of @negationInd is ?true? (CONF:19833).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(@negationInd = 'false') or (@negationInd = 'true' and not(/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section/cda:templateId[@root='2.16.840.1.113883.10.20.5.5.28']))"/>
<axsl:otherwise>
<failed-assert role="" test="(@negationInd = 'false') or (@negationInd = 'true' and not(/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section/cda:templateId[@root='2.16.840.1.113883.10.20.5.5.28']))" id="a-19834-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The report SHALL NOT contain a Findings Section (CONF:19834).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.149'])=1" id="a-19837">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19837) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.149" (CONF:19838).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19839">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19839).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22781">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22781).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M20"/>
</axsl:template>
<axsl:template mode="M20" priority="-1" match="text()"/>
<axsl:template mode="M21" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.160']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.160']" id="r-2.16.840.1.113883.10.20.5.6.160-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19840">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19840).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19841">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19841).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-19842">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:19842).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19843">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19843).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19844">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19844).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19845">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19845).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19846">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19846).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19847">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:19847).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3111-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3111-2']" id="a-19848">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3111-2" Secondary bloodstream infection (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:19848).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.160'])=1" id="a-19851">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19851) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.160" (CONF:19852).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-23363">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:23363).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-23364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:23364).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M21"/>
</axsl:template>
<axsl:template mode="M21" priority="-1" match="text()"/>
<axsl:template mode="M22" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.146']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.146']" id="r-2.16.840.1.113883.10.20.5.6.146-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19867">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19867).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19868">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19868).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19869">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19869).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-19870">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="41852-5" Microorganism identified (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19870).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19871">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19871).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19872">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19872).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19873">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet Significant Pathogens (NHSN) 2.16.840.1.114222.4.11.3194 DYNAMIC (CONF:19873).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship)=1" id="a-19875">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:19875).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.165'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.165'])=1]" id="a-19876">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] Specimen Collection Procedure (LIO) (R1) (templateId:2.16.840.1.113883.10.20.5.6.165) (CONF:19876).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.146'])=1" id="a-19879">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19879) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.146" (CONF:19880).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19881">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19881).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-22732">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22732).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22774">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22774).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M22"/>
</axsl:template>
<axsl:template mode="M22" priority="-1" match="text()"/>
<axsl:template mode="M23" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.135']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.135']" id="r-2.16.840.1.113883.10.20.5.6.135-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19883">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19883).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19884">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19884).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-19885">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:19885).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.135'])=1" id="a-19888">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19888) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.135" (CONF:19889).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19890">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19890).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19891">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19891).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19892">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19892).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19893">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19893).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19894">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19894).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19895">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNInfectionConditionCode 2.16.840.1.114222.4.11.3196 DYNAMIC (CONF:19895).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22758">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22758).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M23"/>
</axsl:template>
<axsl:template mode="M23" priority="-1" match="text()"/>
<axsl:template mode="M24" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.157']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.157']" id="r-2.16.840.1.113883.10.20.5.6.157-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-19900">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19900).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-19901">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:19901).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-19902">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:19902).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.157'])=1" id="a-19905">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:19905) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.157" (CONF:19906).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-19907">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:19907).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-19908">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:19908).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-19909">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19909).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-19910">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:19910).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-19911">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19911).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-19912">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:19912).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2305-1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2305-1']" id="a-19913">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2305-1" Pus, redness, or increased swelling (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:19913).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(@negationInd != 'false') or count(cda:participant) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="(@negationInd != 'false') or count(cda:participant) &gt; 0" id="a-19914-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) Report, when this infection indicator is present, the following participant element is required by NHSN protocol to record the vascular access site at which the infection indicator was observed. If the value of @negationInd is 'false', this observation SHALL contain one or more [1..*] participant elements representing the access site which displayed this infection indicator (CONF:19914).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/@typeCode='DEV'"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/@typeCode='DEV'" id="a-19915-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="DEV" Device (CONF:19915).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[count(cda:participantRole) = 1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[count(cda:participantRole) = 1]" id="a-19916-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participantRole (CONF:19916).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole[count(cda:playingDevice) = 1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole[count(cda:playingDevice) = 1]" id="a-19917-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:19917).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code) = 1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code) = 1]" id="a-19918-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingDevice SHALL contain exactly one [1..1] code (CONF:19918).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor and not(@code)] or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6042']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor and not(@code)] or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6042']/voc:code/@value]" id="a-19919-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a vascular access site as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.6042 NHSNVascularAccessSiteCode STATIC 20120808 (CONF:19919).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor='OTH' or @code]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole/cda:playingDevice/cda:code[@nullFlavor='OTH' or @code]" id="a-19920-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To represent a site of vascular access that is not listed in the NHSNVascularAccessSiteCode value set, set the value of @nullFlavor to OTH (other) (CONF:19920).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant/cda:participantRole[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant/cda:participantRole[@classCode='MANU']" id="a-19921-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="MANU" (CONF:19921).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22788">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22788).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M24"/>
</axsl:template>
<axsl:template mode="M24" priority="-1" match="text()"/>
<axsl:template mode="M25" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145']" id="r-2.16.840.1.113883.10.20.5.6.145-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-20909">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:20909).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-20910">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:20910).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.145'])=1" id="a-20913">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:20913) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.145" (CONF:20914).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-20915">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:20915).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-20916">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:20916).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-20917">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="41852-5" Microorganism identified (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:20917).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-20918">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:20918).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-20919">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:20919).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-20920">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNPathogenCode 2.16.840.1.113883.13.16 DYNAMIC (CONF:20920).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-22716">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22716).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22777">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22777).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22778">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22778).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M25"/>
</axsl:template>
<axsl:template mode="M25" priority="-1" match="text()"/>
<axsl:template mode="M26" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.170']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.170']" id="r-2.16.840.1.113883.10.20.5.6.170-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-20922">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:20922).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-20923">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:20923).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-20924">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:20924).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.170']) &gt; 0" id="a-20927">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] templateId (CONF:20927) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.170" (CONF:20928).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-20929">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:20929).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-20930">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:20930).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]" id="a-20931">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:20931).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-20932">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:20932).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-20933">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:20933).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-20934">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:20934).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='417746004']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='417746004']" id="a-20936">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="417746004" Trauma (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:20936).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22735">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22735).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M26"/>
</axsl:template>
<axsl:template mode="M26" priority="-1" match="text()"/>
<axsl:template mode="M27" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.163']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.163']" id="r-2.16.840.1.113883.10.20.5.6.163-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-20938">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:20938).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-20939">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:20939).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-20940">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:20940).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.163'])=1" id="a-20943">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:20943) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.163" (CONF:20944).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-20945">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:20945).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-20946">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:20946).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]" id="a-20947">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:20947).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-20948">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:20948).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-20949">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:20949).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-20950">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:20950).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3114-6']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3114-6']" id="a-20952">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3114-6" Solution(s) had dried (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:20952).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22783">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22783).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M27"/>
</axsl:template>
<axsl:template mode="M27" priority="-1" match="text()"/>
<axsl:template mode="M28" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.123']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.123']" id="r-2.16.840.1.113883.10.20.5.6.123-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21000">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21000).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21001">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21001).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21002">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21002).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.123'])=1" id="a-21005">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21005) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.123" (CONF:21006).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21007">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21007).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21008">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21008).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21009">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21009).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21010">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21010).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21011">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21011).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21012">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21012).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][count(self::node()[@code='73211009'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][count(self::node()[@code='73211009'])=1]" id="a-21013">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="73211009 " Diabetes mellitus (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96) (CONF:21013).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22745">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22745).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M28"/>
</axsl:template>
<axsl:template mode="M28" priority="-1" match="text()"/>
<axsl:template mode="M29" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.126']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.126']" id="r-2.16.840.1.113883.10.20.5.6.126-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21014">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21014).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21015">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21015).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.126'])=1" id="a-21018">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21018) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.126" (CONF:21019).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21020">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21020).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21021">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNDrugSusceptibilityTestsCode 2.16.840.1.113883.13.15 DYNAMIC (CONF:21021).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21023">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21023).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21024">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21024).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21025">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21025).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:interpretationCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:interpretationCode)=1" id="a-21026">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] interpretationCode (CONF:21026).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:interpretationCode[@nullFlavor='NASK' or @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:interpretationCode[@nullFlavor='NASK' or @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value]" id="a-21027-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the interpretation result is known, the value of interpretationCode/@code SHALL be selected from Value Set 2.16.840.1.113883.13.13 NHSNDrugSusceptibilityFindingCode STATIC 20080130. If the drug was not tested, the value of @nullFlavor SHALL be NASK (CONF:21027).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M29"/>
</axsl:template>
<axsl:template mode="M29" priority="-1" match="text()"/>
<axsl:template mode="M30" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.117']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.117']" id="r-2.16.840.1.113883.10.20.5.6.117-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21028">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" (CONF:21028).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21029">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:21029).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21032">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21032).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='112695004' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='112695004' and @codeSystem='2.16.840.1.113883.6.96']" id="a-21033">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="112695004" Surgical Closure (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21033).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21034">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21034).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21035">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:21035).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6051']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6051']/voc:code/@value])=1" id="a-21036">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] methodCode, which SHALL be selected from ValueSet NHSNClosureTechniqueCode 2.16.840.1.114222.4.11.6051 STATIC (CONF:21036).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.117'])=1" id="a-21038">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21038) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.117" (CONF:21039).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21040">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21040).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22734">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22734).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M30"/>
</axsl:template>
<axsl:template mode="M30" priority="-1" match="text()"/>
<axsl:template mode="M31" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.122']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.122']" id="r-2.16.840.1.113883.10.20.5.6.122-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21041">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" (CONF:21041).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21042">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CONF:21042).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21044">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21044).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21046">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21046).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21047">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21047).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-21048">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:21048).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[@typeCode='LOC']" id="a-21050">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" (CONF:21050).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]" id="a-21051">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:21051).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-21052">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" (CONF:21052).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:id)=1]" id="a-21053">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] id (CONF:21053).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@root]" id="a-21054">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:21054).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21055-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id/@root SHALL contain the facility identifier (CONF:21055).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:id) or cda:participant/cda:participantRole/cda:id[@extension]" id="a-21056">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:21056).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-21057">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:21057).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']" id="a-21058">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:21058).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-21059">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code (ValueSet: NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC) (CONF:21059).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.122'])=1" id="a-21063">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21063) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.122" (CONF:21064).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21065">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21065).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='71861002']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='71861002']" id="a-21066">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="71861002" Insertion procedure (CONF:21066).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-22744">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:22744).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.96']" id="a-28103">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96) (CONF:28103).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28106">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28106).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M31"/>
</axsl:template>
<axsl:template mode="M31" priority="-1" match="text()"/>
<axsl:template mode="M32" priority="3999" match="cda:Observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.175']">
<fired-rule role="" context="cda:Observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.175']" id="r-2.16.840.1.113883.10.20.5.6.175-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21067">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:21067).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21068">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:21068).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21069">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21069).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-21070">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:21070).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.175'])=1" id="a-21071">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21071) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.175" (CONF:21072).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21075">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21075).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21076">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21076).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21077">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:21077).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21078">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21078).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value])=1" id="a-21079">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNDrugSusceptibilityFindingCode 2.16.840.1.113883.13.13 (CONF:21079).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22630">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22630).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='365705006']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='365705006']" id="a-28099">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="365705006" Final Interpretation Result (CONF:28099).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-28100">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:28100).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M32"/>
</axsl:template>
<axsl:template mode="M32" priority="-1" match="text()"/>
<axsl:template mode="M33" priority="3999" match="cda:Participant2[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.176']">
<fired-rule role="" context="cda:Participant2[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.176']" id="r-2.16.840.1.113883.10.20.5.6.176-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.176'])=1" id="a-21084">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21084) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.176" (CONF:21085).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@typeCode='SBJ'"/>
<axsl:otherwise>
<failed-assert role="" test="@typeCode='SBJ'" id="a-27113">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="SBJ" (CONF:27113).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participantRole)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participantRole)=1" id="a-27114">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participantRole (CONF:27114).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[count(cda:playingEntity)=1]" id="a-27116">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:27116).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-27117">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNAntimicrobialAgentAURPCode 2.16.840.1.114222.4.11.3360 DYNAMIC (CONF:27117).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M33"/>
</axsl:template>
<axsl:template mode="M33" priority="-1" match="text()"/>
<axsl:template mode="M34" priority="3999" match="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.177']">
<fired-rule role="" context="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.177']" id="r-2.16.840.1.113883.10.20.5.6.177-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-21091">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:21091).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21092">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:21092).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.177'])=1" id="a-21093">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21093) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.177" (CONF:21094).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-21097">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:21097).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21098">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21098).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']" id="a-21099">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:21099).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21100">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21100).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:21101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.200'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.200'])=1])=1" id="a-21104">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:21104) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Result Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.200) (CONF:27178).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.175'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.175'])=1])=1" id="a-21106">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:21106) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Final Interpretation Result (R1) (templateId:2.16.840.1.113883.10.20.5.6.175) (CONF:22712).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22723">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22723).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.176'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.176'])=1" id="a-27119">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Antimicrobial Susceptibility Antibiotic (R1) (templateId:2.16.840.1.113883.10.20.5.6.176) (CONF:27119).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M34"/>
</axsl:template>
<axsl:template mode="M34" priority="-1" match="text()"/>
<axsl:template mode="M35" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.26']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.26']" id="r-2.16.840.1.113883.10.20.5.4.26-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M35"/>
</axsl:template>
<axsl:template mode="M35" priority="-1" match="text()"/>
<axsl:template mode="M36" priority="3999" match="cda:Section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.32']">
<fired-rule role="" context="cda:Section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.32']" id="r-2.16.840.1.113883.10.20.5.5.32-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.32'])=1" id="a-21128">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21128) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.32" (CONF:21129).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21132">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21132).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18769-0' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18769-0' and @codeSystem='2.16.840.1.113883.6.1']" id="a-21133">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:21133).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-21136">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:21136).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[@typeCode='DRIV']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[@typeCode='DRIV']" id="a-21137">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] @typeCode="DRIV" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:21137).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.188'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.188'])=1]" id="a-27167">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Specimen Collection Procedure (ARO) (R1) (templateId:2.16.840.1.113883.10.20.5.6.188) (CONF:27167).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M36"/>
</axsl:template>
<axsl:template mode="M36" priority="-1" match="text()"/>
<axsl:template mode="M37" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.27']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.27']" id="r-2.16.840.1.113883.10.20.5.4.27-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M37"/>
</axsl:template>
<axsl:template mode="M37" priority="-1" match="text()"/>
<axsl:template mode="M38" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.31']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.31']" id="r-2.16.840.1.113883.10.20.5.31-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-21139">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:21139).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-21140">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:21140).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]" id="a-21141">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNEncounterTypeCode 2.16.840.1.113883.13.1 STATIC (CONF:21141).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-21143">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:21143).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-21144">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:21144).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-21145">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:21145). Note: Admission Date</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-21146">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:21146).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-21147">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:21147).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-21148">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:21148).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-21149">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:21149).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-21150">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:21150).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-21151">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:21151).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.32'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.32'])=1])=1]" id="a-21152">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:21152) such that it SHALL contain exactly one [1..1] Findings Section in an ARO Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.32) (CONF:21153).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.31'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.31'])=1" id="a-21951">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21951) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.31" (CONF:21952).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23358-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:23358).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M38"/>
</axsl:template>
<axsl:template mode="M38" priority="-1" match="text()"/>
<axsl:template mode="M39" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.142']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.142']" id="r-2.16.840.1.113883.10.20.5.6.142-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21157">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21157).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21158">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21158).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21159">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21159).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21160">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21160).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21161">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21161).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21162">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21162).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21163">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21163).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21164">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21164).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2318-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2318-4']" id="a-21165">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2318-4" MDRO Infection or C.difficile infection (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21165).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.142'])=1" id="a-21234">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21234) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.142" (CONF:21235).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21236">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21236).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22769">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22769).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M39"/>
</axsl:template>
<axsl:template mode="M39" priority="-1" match="text()"/>
<axsl:template mode="M40" priority="3999" match="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.141']">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.141']" id="r-2.16.840.1.113883.10.20.5.6.141-errors"/>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-21166">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance Administration (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21166).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21167">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21167).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21168">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21168).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21169">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21169).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2306-9' and @codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2306-9' and @codeSystem='2.16.840.1.113883.6.277']" id="a-21170">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2306-9" Intravenous injection of antifungal substance (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21170).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.141'])=1" id="a-21501">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21501) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.141" (CONF:21502).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21503">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21503).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21504">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21504).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1" id="a-21505">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21505).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]" id="a-21506">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:21506).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]" id="a-21507">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:21507).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22763">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22763).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']" id="a-22764">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22764).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']" id="a-22765">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22765).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28110">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28110).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M40"/>
</axsl:template>
<axsl:template mode="M40" priority="-1" match="text()"/>
<axsl:template mode="M41" priority="3999" match="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.140']">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.140']" id="r-2.16.840.1.113883.10.20.5.6.140-errors"/>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-21171">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance Administration (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21171).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21172">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21172).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21173">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21173).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21174">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21174).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='281790008' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='281790008' and @codeSystem='2.16.840.1.113883.6.96']" id="a-21175">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="281790008" Intravenous antibiotic therapy (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21175).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:consumable)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:consumable)=1" id="a-21176">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] consumable (CONF:21176).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable[count(cda:manufacturedProduct)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable[count(cda:manufacturedProduct)=1]" id="a-21177">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:21177).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]" id="a-21178">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:21178).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]" id="a-21179">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:21179).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[(@code='11124' and @codeSystem='2.16.840.1.113883.6.88')  or @nullFlavor='NI'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[(@code='11124' and @codeSystem='2.16.840.1.113883.6.88') or @nullFlavor='NI'])" id="a-21180-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) Report, if the antimicrobial started was Vancomycin, the value of @code SHALL be '11124' Vancomycin [CodeSystem: 2.16.840.1.113883.6.88 RxNorm]. Otherwise, the value of @nullFlavor SHALL be 'NI' (CONF:21180).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.140'])=1" id="a-21426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21426) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.140" (CONF:21427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21428">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21428).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21429">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21429).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1" id="a-21496">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21496).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]" id="a-21497">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:21497).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]" id="a-21498">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:21498).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22766">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22766).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']" id="a-22767">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22767).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']" id="a-22768">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22768).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28109">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28109).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M41"/>
</axsl:template>
<axsl:template mode="M41" priority="-1" match="text()"/>
<axsl:template mode="M42" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']" id="r-2.16.840.1.113883.10.20.5.6.139-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21181">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21181).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21182">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21182).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-21183">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:21183).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21184">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21184).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21185">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21185).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21186">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21186).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21187">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21187).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21188">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21188).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21189">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21189).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21190">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNInfectionTypeCode 2.16.840.1.113883.13.20 DYNAMIC (CONF:21190).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.180'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='SPRT'][count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.180'])=1])=1" id="a-21192">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21192) such that it SHALL contain exactly one [1..1] @typeCode="SPRT" Supports (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21193). SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.180) (CONF:21194).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.139'])=1" id="a-21239">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21239) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.139" (CONF:21240).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23220)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23220)" id="a-23218-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23218).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23220)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23220)" id="a-23219-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Infection Condition Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.135) (CONF:23219).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.135'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.135'])" id="a-23220-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is an Infection-type Report and the infection type is not BSI, an entryRelationship element SHALL be present containing an Infection Condition Observation (CONF:23220).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23224)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23224)" id="a-23222-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23222).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23224)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23224)" id="a-23223-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Secondary Bloodstream Infection Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.160) (CONF:23223).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.160'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (cda:entryRelationship[@typeCode='REFR']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.160'])" id="a-23224-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is an Infection-type Report and the infection type is not BSI, an entryRelationship element SHALL be present containing a Secondary Bloodstream Infection Observation (CONF:23224).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23228)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23228)" id="a-23226-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23226).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23228)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23228)" id="a-23227-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Bloodstream Infection Evidence Type Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.114) (CONF:23227).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.32']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.114'] )"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.32']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.114'] )" id="a-23228-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is a BSI Report, an entryRelationship element SHALL be present containing a Bloodstream Infection Evidence Type Observation (CONF:23228).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23232)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23232)" id="a-23230-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23230).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(see-23232)"/>
<axsl:otherwise>
<failed-assert role="" test="not(see-23232)" id="a-23231-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Occasion of HAI Detection Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.144) (CONF:23231).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.144'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/*/cda:templateId[@root='2.16.840.1.113883.10.20.5.33']) or (cda:entryRelationship[@typeCode='COMP']/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.144'])" id="a-23232-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the report is an SSI Report, an entryRelationship element SHALL be present containing an Occasion of HAI Detection Observation (CONF:23232).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M42"/>
</axsl:template>
<axsl:template mode="M42" priority="-1" match="text()"/>
<axsl:template mode="M43" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.148']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.148']" id="r-2.16.840.1.113883.10.20.5.6.148-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21214">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21214).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21215">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21215).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(@negationInd) or @negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="not(@negationInd) or @negationInd" id="a-21216">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain zero or one [0..1] @negationInd (CONF:21216).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21217">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21217).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21218">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21218).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21219">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21219).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21220">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" COMPLETED (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21220).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-21221">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:21221).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@code='3104-7' and @codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@code='3104-7' and @codeSystem='2.16.840.1.113883.6.277']" id="a-21222">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3104-7" Recorder was performer (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21222).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.148'])=1" id="a-22002">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22002) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.148" (CONF:22003).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22004">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22004).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22779">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22779).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M43"/>
</axsl:template>
<axsl:template mode="M43" priority="-1" match="text()"/>
<axsl:template mode="M44" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.156']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.156']" id="r-2.16.840.1.113883.10.20.5.6.156-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21319">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21319).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21320">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21320).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21321">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21321).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21322-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the id element SHALL be the same as the value of the corresponding procedure/id element in the Details Section of the report (CONF:21322).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.174'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.174'])=1])=1" id="a-21323">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21323) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21324). SHALL contain exactly one [1..1] Wound Class Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.174) (CONF:21325).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(checked-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(checked-here)" id="a-21325-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Wound Class Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.174) (CONF:21325).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.128'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.128'])=1])=1" id="a-21327">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21327) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21328). SHALL contain exactly one [1..1] Endoscope Used Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.128) (CONF:21329).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21329-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Endoscope Used Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.128) (CONF:21329).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21331-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure was an emergency, the procedure element SHALL contain a methodCode element where the value of @code is 373110003 Emergency procedure 2.16.840.1.113883.6.96 SNOMED CT STATIC (CONF:21331).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.156'])=1" id="a-21990">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21990) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.156" (CONF:21991).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M44"/>
</axsl:template>
<axsl:template mode="M44" priority="-1" match="text()"/>
<axsl:template mode="M45" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.159']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.159']" id="r-2.16.840.1.113883.10.20.5.6.159-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21342">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21342).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21343">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21343).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21344">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21344).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21345">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21345).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21346">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21346).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21347">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21347).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21348">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21348).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21349">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21349).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='3104-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='3104-7']" id="a-21350">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3104-7" Recorder was performer (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21350).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.159'])=1" id="a-21987">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21987) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.159" (CONF:21988).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21989">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21989).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22790">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22790).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M45"/>
</axsl:template>
<axsl:template mode="M45" priority="-1" match="text()"/>
<axsl:template mode="M46" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.161']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.161']" id="r-2.16.840.1.113883.10.20.5.6.161-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21351">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21351).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21352">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21352).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21353">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21353).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='41852-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-21354">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="41852-5" Microorganism Identified (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21354).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21355">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21355).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21356">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21356).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value) &gt;= 1 and count(cda:value) &lt;= 3"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value) &gt;= 1 and count(cda:value) &lt;= 3" id="a-21357-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one and not more than 3 value (ValueSet: Significant Pathogens (NHSN) 2.16.840.1.114222.4.11.3194 DYNAMIC) (CONF:21357).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.161'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.161'])=1" id="a-21984">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21984) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.161" (CONF:21985).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M46"/>
</axsl:template>
<axsl:template mode="M46" priority="-1" match="text()"/>
<axsl:template mode="M47" priority="3999" match="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162']">
<fired-rule role="" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162']" id="r-2.16.840.1.113883.10.20.5.6.162-errors"/>
<axsl:choose>
<axsl:when test="@classCode='SBADM'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='SBADM'" id="a-21359">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="SBADM" Substance administration (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21359).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21360">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21360).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21361">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21361).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:consumable)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:consumable)=1" id="a-21362">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] consumable (CONF:21362).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable[count(cda:manufacturedProduct)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable[count(cda:manufacturedProduct)=1]" id="a-21363">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This consumable SHALL contain exactly one [1..1] manufacturedProduct (CONF:21363).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[@classCode='MANU']" id="a-21364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:21364).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct[count(cda:manufacturedMaterial)=1]" id="a-21365">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedProduct SHALL contain exactly one [1..1] manufacturedMaterial (CONF:21365).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[@classCode='MMAT']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[@classCode='MMAT']" id="a-21366">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] @classCode="MMAT" Manufactured material (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:21366).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial[count(cda:code)=1]" id="a-21367">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This manufacturedMaterial SHALL contain exactly one [1..1] code (CONF:21367).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3183']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3183']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]" id="a-21368-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a skin-preparation solution as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3183 NHSNSkinPreparationCode DYNAMIC. Or, to record a skin-preparation solution as text, the value of @nullFlavor SHALL be OTH and an originalText element SHALL be present recording the skin-preparation solution (CONF:21368).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.162'])=1" id="a-22118">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22118) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.162" (CONF:22124).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22119">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22119).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22120">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22120).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime[@xsi:type='IVL_TS'])=1" id="a-22121">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22121).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:low)=1]" id="a-22122">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22122).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS'][count(cda:high)=1]" id="a-22123">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22123).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22785">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22785).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:low[@nullFlavor='NA']" id="a-22786">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22786).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@xsi:type='IVL_TS']/cda:high[@nullFlavor='NA']" id="a-22787">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This high SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22787).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']" id="a-23292">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="RSON" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23292).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.118'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.118'])=1]" id="a-23293">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Contraindicated Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.118) (CONF:23293).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-23294-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>When recording whether chlorhexidine gluconate was applied, if it was not applied, and was contraindicated, the value of @negationInd on the Contraindicated Observation SHALL be false. If it was not contraindicated, the value of @negationInd on the Contraindicated Observation SHALL be true. If it is not known whether it was contraindicated, the value of @nullFlavor on the Contraindicated Observation SHALL be UNK. For examples and further explanation, see the Contraindicated Observation template (CONF:23294).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23295-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If chlorhexidine gluconate was NOT applied, SHALL contain an entryRelationship containing a Contraindicated Observation (CONF:23295).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28105">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28105).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M47"/>
</axsl:template>
<axsl:template mode="M47" priority="-1" match="text()"/>
<axsl:template mode="M48" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.165']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.165']" id="r-2.16.840.1.113883.10.20.5.6.165-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21389">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21389).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21390">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21390).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21391">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21391).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@value]" id="a-21392">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @value (CONF:21392).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-21393">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:21393).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='PRD']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='PRD']" id="a-21394">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="PRD" Product (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:21394).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-21395">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:21395).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='SPEC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='SPEC']" id="a-21396">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SPEC" Specimen (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:21396).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-21397">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:21397).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-21398">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code (CONF:21398).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity/cda:code[(@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3249']/voc:code/@value) or @nullFlavor='UNK'] "/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity/cda:code[(@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3249']/voc:code/@value) or @nullFlavor='UNK']" id="a-21399-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a specimen type, code/@code SHALL be present where the value is selected from 2.16.840.1.114222.4.11.3249 NHSNSpecimenTypeCode DYNAMIC. To record that the specimen type is not known, the value of code/@nullFlavor SHALL be UNK (CONF:21399).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship)=1" id="a-21400">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21400).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-21401">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@inversionInd='true']" id="a-21402">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @inversionInd="true" (CONF:21402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.164'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.164'])=1]" id="a-21403">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] Specimen Collection Encounter (LIO) (R1) (templateId:2.16.840.1.113883.10.20.5.6.164) (CONF:21403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.165'])=1" id="a-21982">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21982) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.165" (CONF:21983).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M48"/>
</axsl:template>
<axsl:template mode="M48" priority="-1" match="text()"/>
<axsl:template mode="M49" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.169']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.169']" id="r-2.16.840.1.113883.10.20.5.6.169-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21455">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21455).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2304-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2304-4']" id="a-21459">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2304-4" Transient Patient (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.169'])=1" id="a-22035">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22035) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.169" (CONF:22036).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22737">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22737).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22738">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22738).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M49"/>
</axsl:template>
<axsl:template mode="M49" priority="-1" match="text()"/>
<axsl:template mode="M50" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.171']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.171']" id="r-2.16.840.1.113883.10.20.5.6.171-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21460).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21461">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21462">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21462).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21466">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-21467">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:21467).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[count(self::node()[@code='3191-4' and @codeSystem='2.16.840.1.113883.6.277'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[count(self::node()[@code='3191-4' and @codeSystem='2.16.840.1.113883.6.277'])=1]" id="a-21468">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="3191-4" Urinary catheter present (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21468).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.171'])=1" id="a-22114">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22114) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.171" (CONF:22117).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22115">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22115).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]" id="a-22116">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4) (CONF:22116).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22727">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22727).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd != 'true' or (cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd != 'true' or (cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])" id="a-22731-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If a urinary catheter is not present (@negationInd="true"), this entryRelationship SHALL be present (CONF:22731).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M50"/>
</axsl:template>
<axsl:template mode="M50" priority="-1" match="text()"/>
<axsl:template mode="M51" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.172']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.172']" id="r-2.16.840.1.113883.10.20.5.6.172-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21474">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21474).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21475">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21476">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21476).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21477">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21477).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21478">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21478).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21480-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The text element is to be used for additional information commenting on the vascular access type (CONF:21480).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21481">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21481).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21482">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21482).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21483">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21483).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-21484">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:21484).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@value or @nullFlavor='NI']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@value or @nullFlavor='NI']" id="a-21485-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>When the access placement date is not known, the value of @nullFlavor SHALL be NI (no information) (CONF:21485).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:low[@nullFlavor or string-length(@value) = 6]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:low[@nullFlavor or string-length(@value) = 6]" id="a-21486-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>When the access placement date is known, it SHALL be recorded as year and month (yyyymm) (CONF:21486).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-21487">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:21487).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6007']/voc:code/@value] or cda:value[@nullFlavor='OTH']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6007']/voc:code/@value] or cda:value[@nullFlavor='OTH']" id="a-21488-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record the presence or absence of a vascular access type that is listed in the NHSN Vascular Access Type value set, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.6007 NHSNVascularAccessTypeCode STATIC 20120808 (CONF:21488).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21489-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record that another type of vascular access is present, set the value of @nullFlavor to OTH (other) (CONF:21489).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.172'])=1" id="a-22037">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22037) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.172" (CONF:22038).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']" id="a-22040">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:22040).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.115'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.115'])=1]" id="a-22041">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Buttonhole Cannulation Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.115) (CONF:22041).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22721">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22721).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-22722">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:22722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M51"/>
</axsl:template>
<axsl:template mode="M51" priority="-1" match="text()"/>
<axsl:template mode="M52" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.168']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.168']" id="r-2.16.840.1.113883.10.20.5.6.168-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21508">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21508).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21509">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21509).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-21510">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:21510).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code='ASSERTION'][@codeSystem='2.16.840.1.113883.5.4'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code='ASSERTION'][@codeSystem='2.16.840.1.113883.5.4'])=1" id="a-21511">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21511).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21512">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21512).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21513">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21513).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21514">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21514).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21515">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21515).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6008']/voc:code/@value  or (@nullFlavor='NI')])"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code = document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.6008']/voc:code/@value or (@nullFlavor='NI')])" id="a-21516-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) report, to represent the suspected source as a code, the value of @code SHALL be selected from ValueSet NHSNSuspectedSourceTypeCode 2.16.840.1.114222.4.11.6008 STATIC 20111215 (CONF:21516).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21517-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the suspected source is not listed in Value Set 2.16.840.1.114222.4.11.6008 NHSNSuspectedSourceTypeCode STATIC 20111215, set the value of @nullFlavor to ?OTH? (CONF:21517).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21518-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the suspected source is uncertain, set the value of @nullFlavor to ?NI? (CONF:21518).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.134'][count(cda:code[@code='2307-7'])=1][count(cda:value[@code='60022001'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.134'][count(cda:code[@code='2307-7'])=1][count(cda:value[@code='60022001'])=1])=1])=1" id="a-21519">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21519) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21520). SHALL contain exactly one [1..1] Imputability Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.134) (CONF:21521). This observation SHALL contain exactly one [1..1] code (CONF:21522). This code SHALL contain exactly one [1..1] @code="2307-7" Imputability of positive blood culture to the suspected source (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21523). This observation SHALL contain exactly one [1..1] value (CONF:21524). This value SHALL contain exactly one [1..1] @code="60022001" Possible (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21525).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.168'])=1" id="a-21528">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21528) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.168" (CONF:21529).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21530">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21530).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22741">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22741).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M52"/>
</axsl:template>
<axsl:template mode="M52" priority="-1" match="text()"/>
<axsl:template mode="M53" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.167']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.167']" id="r-2.16.840.1.113883.10.20.5.6.167-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21531">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21531).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21532">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21532).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-21533">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:21533).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21534">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21534).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='370822003' and @codeSystem='2.16.840.1.113883.6.96'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='370822003' and @codeSystem='2.16.840.1.113883.6.96'])=1]" id="a-21535">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="370822003" Use of sterile technique (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21535).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[@typeCode='DEV']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[@typeCode='DEV']" id="a-21537">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:21537).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]" id="a-21538">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:21538).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']" id="a-21539">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:21539).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingDevice)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingDevice)=1]" id="a-21540">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:21540).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:participant/cda:participantRole/cda:playingDevice) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:participant/cda:participantRole/cda:playingDevice) or cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]" id="a-21541">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingDevice SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSterileBarrierCode 2.16.840.1.114222.4.11.3184 DYNAMIC (CONF:21541).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.167'])=1" id="a-21558">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21558) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.167" (CONF:21559).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21561">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21561).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21562">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:21562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-22772">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:22772).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M53"/>
</axsl:template>
<axsl:template mode="M53" priority="-1" match="text()"/>
<axsl:template mode="M54" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.166']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.166']" id="r-2.16.840.1.113883.10.20.5.6.166-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21543">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21543).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21544">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21544).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21545">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21545).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]" id="a-21546">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21546).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21547">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21547).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21548">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21548).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.11']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.11']/voc:code/@value])=1" id="a-21549">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNSpinalFusionLevelCode 2.16.840.1.113883.13.11 STATIC 2009-06-25 (CONF:21549).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166'])=1" id="a-21553">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21553) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.166" (CONF:21554).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21555">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21555).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22775">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22775).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M54"/>
</axsl:template>
<axsl:template mode="M54" priority="-1" match="text()"/>
<axsl:template mode="M55" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.164']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.164']" id="r-2.16.840.1.113883.10.20.5.6.164-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-21563">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21563).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21564">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21564).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.164'])=1" id="a-21567">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21567) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.164" (CONF:21568).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21569">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21569).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-21571">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:21571).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='LOC']" id="a-21572">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:21572).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-21573">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:21573).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-21574">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:21574).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:id)=1]" id="a-21575">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] id (CONF:21575).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@root]" id="a-21576">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:21576).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@extension]" id="a-21577">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:21577).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-21578">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:21578).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']" id="a-21579">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" Place (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:21579).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-21580">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC (CONF:21580).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-21583">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:21583).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21584">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21584).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21585-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient was an inpatient, an effectiveTime/low element SHALL be present representing the date the patient was admitted or transferred to that location (CONF:21585).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M55"/>
</axsl:template>
<axsl:template mode="M55" priority="-1" match="text()"/>
<axsl:template mode="M56" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.158']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.158']" id="r-2.16.840.1.113883.10.20.5.6.158-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21589">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21589).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21590">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21590).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-21591">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:21591).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.158'])=1" id="a-21593">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21593) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.158" (CONF:21603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21594">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21594).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21595">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21595).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21596">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21596).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21597">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21597).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21598">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21598).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-21599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:21599).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21600-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a CLIP Report, to record the reason as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3182 ReasonForInsertionCode STATIC 20090625. Or, to record the reason as text, the value of @xsi:type SHALL be ST and a text value SHALL be present (CONF:21600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22789">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22789).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']" id="a-23287">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="RSON" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23287).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']" id="a-23288">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" (CONF:23288).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.129'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.129'])=1]" id="a-23289">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Guidewire Used Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.129) (CONF:23289).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:value[@code = '5107-8']) or (cda:entryRelationship[@typeCode='RSON' and @inversionInd='true']/cda:procedure/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:value[@code = '5107-8']) or (cda:entryRelationship[@typeCode='RSON' and @inversionInd='true']/cda:procedure/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])" id="a-23290-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a CLIP Report, if the coded reason is [To replace] An existing central line where infection was suspected (5107-8), an entryRelationship element SHALL be present containing Guidewire Used Clinical Statement (CONF:23290).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M56"/>
</axsl:template>
<axsl:template mode="M56" priority="-1" match="text()"/>
<axsl:template mode="M57" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.155']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.155']" id="r-2.16.840.1.113883.10.20.5.6.155-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21605">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21605).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21606">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21606).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21607">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21607).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='233527006' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='233527006' and @codeSystem='2.16.840.1.113883.6.96']" id="a-21608">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="233527006" Central-line insertion (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21608).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21609">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21609).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21610">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21610).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:targetSiteCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:targetSiteCode)=1" id="a-21611">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] targetSiteCode, which SHALL be selected from ValueSet NHSNInsertionSiteCode 2.16.840.1.114222.4.11.3180 DYNAMIC (CONF:21611).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:performer)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:performer)=1" id="a-21613">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] performer (CONF:21613).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer[count(cda:assignedEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer[count(cda:assignedEntity)=1]" id="a-21614">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This performer SHALL contain exactly one [1..1] assignedEntity (CONF:21614).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity[count(cda:id)=1]" id="a-21615">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedEntity SHALL contain exactly one [1..1] id (CONF:21615).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity/cda:id[@root or @nullFlavor='UNK']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity/cda:id[@root or @nullFlavor='UNK']" id="a-21616-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the performer ID is not known, the value of performer/assignedEntity/id/@nullFlavor SHALL be UNK (CONF:21616).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity[count(cda:code)=1]" id="a-21617">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedEntity SHALL contain exactly one [1..1] code (CONF:21617).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:performer/cda:assignedEntity/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3181']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:performer/cda:assignedEntity/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3181']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]" id="a-21618-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the occupation is recorded as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3181 NHSNRoleOfPerformerCode DYNAMIC. If the occupation is recorded as text, the value of @nullFlavor SHALL be OTH and the code element SHALL contain an originalText element recording the occupation of the performer (CONF:21618).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-21619">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:21619).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='DEV']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='DEV']" id="a-21620">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:21620).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-21621">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:21621).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='MANU']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='MANU']" id="a-21622">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured product (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:21622).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingDevice)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingDevice)=1]" id="a-21623">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingDevice (CONF:21623).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingDevice[count(cda:code)=1]" id="a-21624">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingDevice SHALL contain exactly one [1..1] code (CONF:21624).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3185']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingDevice/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3185']/voc:code/@value or (@nullFlavor='OTH' and cda:originalText)]" id="a-21625-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record the catheter type as a code, the value of @code SHALL be selected from ValueSet 2.16.840.1.114222.4.11.3185 NHSNCatheterTypeCode STATIC 20090625. Or, to record the catheter type as text, the value of @nullFlavor SHALL be OTH and an originalText element SHALL be present (CONF:21625).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.159'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.159'])=1])=1" id="a-21626">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21626) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21627). SHALL contain exactly one [1..1] Recorder Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.159) (CONF:21628).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.158'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.158'])=1])=1" id="a-21629">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21629) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has reason (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21630). SHALL contain exactly one [1..1] Reason for Procedure Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.158) (CONF:21631).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.148'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.148'])=1])=1" id="a-21632">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21632) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21633). SHALL contain exactly one [1..1] PICC/IV Team (R1) (templateId:2.16.840.1.113883.10.20.5.6.148) (CONF:21634).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.155'])=1" id="a-21637">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21637) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.155" (CONF:21638).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21639">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21639).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22784">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22784).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M57"/>
</axsl:template>
<axsl:template mode="M57" priority="-1" match="text()"/>
<axsl:template mode="M58" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.154']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.154']" id="r-2.16.840.1.113883.10.20.5.6.154-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21640">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21640).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21641">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21641).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21642">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21642).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21643">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (ValueSet: Procedure Category (NHSN) 2.16.840.1.113883.13.17 DYNAMIC) (CONF:21643).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21647">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21647).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-21648">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:21648).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.154'])=1" id="a-21651">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21651) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.154" (CONF:21652).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21653">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (ValueSet: ProcedureAct statusCode 2.16.840.1.113883.11.20.9.22 DYNAMIC) (CONF:21653).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M58"/>
</axsl:template>
<axsl:template mode="M58" priority="-1" match="text()"/>
<axsl:template mode="M59" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.153']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.153']" id="r-2.16.840.1.113883.10.20.5.6.153-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21654">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21654).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21655">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21655).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21656">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21656).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.17']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.17']/voc:code/@value])=1" id="a-21657">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet Procedure Category (NHSN) 2.16.840.1.113883.13.17 (CONF:21657).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21661">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21661).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-21662">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:21662).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:width)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:width)=1]" id="a-21663">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] width (CONF:21663).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2101-4'] or cda:code[@code = '2101-4' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.3']/voc:code/@value] "/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2101-4'] or cda:code[@code = '2101-4' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.3']/voc:code/@value]" id="a-21669-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure category code represents a hip replacement, a methodCode element SHALL be present where the value of @code is selected from Value Set 2.16.840.1.113883.13.3 NHSNHipReplacementCode STATIC 20090625 (CONF:21669).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2124-6'] or cda:code[@code = '2124-6' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.4']/voc:code/@value] "/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2124-6'] or cda:code[@code = '2124-6' and @codeSystem='2.16.840.1.113883.6.277'] and cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.4']/voc:code/@value]" id="a-21670-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure category code represents a knee replacement, a methodCode element SHALL be present where the value of @code is selected from Value Set 2.16.840.1.113883.13.4 NHSNKneeReplacementCode STATIC 20090625 (CONF:21670).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:approachSiteCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.2']/voc:code/@value or @nullFlavor='NI']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:approachSiteCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.2']/voc:code/@value or @nullFlavor='NI']" id="a-21674-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure is a fusion or refusion (code/@code is either 2137-8 or 2135-2), an approachSiteCode element SHALL be present. If the approach site is known, the value of @code SHALL be selected from Value Set 2.16.840.1.113883.13.2 NHSNSpinalFusionApproachCode STATIC 20120808. If the approach site is not specified, the value of code@nullFlavor SHALL be NI (CONF:21674).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer) or cda:performer[@typeCode='PRF']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer) or cda:performer[@typeCode='PRF']" id="a-21676">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The performer, if present, SHALL contain exactly one [1..1] @typeCode="PRF" (CONF:21676).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]" id="a-21677">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:21677).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]" id="a-21678">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedEntity SHALL contain at least one [1..*] id (CONF:21678).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@root]" id="a-21679">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:21679).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21680-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This @root SHALL be the facility's identifier (CONF:21680).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:performer/cda:assignedEntity/cda:id) or cda:performer/cda:assignedEntity/cda:id[@extension]" id="a-21681">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:21681).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21682-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This @extension SHALL be the surgeon's identifier (CONF:21682).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.112'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.112'])=1])=1" id="a-21683">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21683) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21684). SHALL contain exactly one [1..1] Anesthesia Administration Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.112) (CONF:21685).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code != '2137-8' and @code != '2135-2'] or cda:code[@code = '2137-8' or @code = '2135-2'] and cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.166']" id="a-21689-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure is a fusion or refusion, this entryRelationship SHALL be present (CONF:21689).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.117'])=1]) &lt; 2"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.117'])=1]) &lt; 2" id="a-21690">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain zero or one [0..1] entryRelationship (CONF:21690) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21691). SHALL contain exactly one [1..1] Closure Technique Procedure (R1) (templateId:2.16.840.1.113883.10.20.5.6.117) (CONF:21692).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.153'])=1" id="a-21695">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21695) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.153" (CONF:21696).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21700">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode 2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:21700).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M59"/>
</axsl:template>
<axsl:template mode="M59" priority="-1" match="text()"/>
<axsl:template mode="M60" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.151']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.151']" id="r-2.16.840.1.113883.10.20.5.6.151-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-21703">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-21705">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:21705).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-21706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:21706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21707">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21707).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='IMP' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='IMP' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21708">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="IMP" Inpatient encounter (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21708).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-21709">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:21709).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:high)=1]" id="a-21710">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:21710).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime/cda:high[@value]" id="a-21711">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This high SHALL contain exactly one [1..1] @value (CONF:21711).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.151'])=1" id="a-21714">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21714) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.151" (CONF:21715).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M60"/>
</axsl:template>
<axsl:template mode="M60" priority="-1" match="text()"/>
<axsl:template mode="M61" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.144']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.144']" id="r-2.16.840.1.113883.10.20.5.6.144-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21716">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21716).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21717">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21717).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-21718">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:21718).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.144'])=1" id="a-21721">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21721) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.144" (CONF:21722).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21723">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21723).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21724">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21724).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21725">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21725).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21726">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21726).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21727">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21727).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21728">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet NHSNOccasionOfDetectionCode 2.16.840.1.113883.13.12 DYNAMIC (CONF:21728).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22773">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22773).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M61"/>
</axsl:template>
<axsl:template mode="M61" priority="-1" match="text()"/>
<axsl:template mode="M62" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.125']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.125']" id="r-2.16.840.1.113883.10.20.5.6.125-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21747">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21747).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-21749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:21749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.125'])=1" id="a-21752">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21752) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.125" (CONF:21753).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21754">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21754).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21755">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21755).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21756">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21756).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21757">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21757).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21758">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21758).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21759">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21759).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='236435004']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='236435004']" id="a-21760">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="236435004" End-stage renal failure, on dialysis (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21760).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.169'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.169'])=1])=1" id="a-21761">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:21761) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:21762). SHALL contain exactly one [1..1] Transient Patient Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.169) (CONF:21763).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22747">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22747).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M62"/>
</axsl:template>
<axsl:template mode="M62" priority="-1" match="text()"/>
<axsl:template mode="M63" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.115']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.115']" id="r-2.16.840.1.113883.10.20.5.6.115-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21764">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21764).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21765">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21765).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21766">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21766).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21767">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21767).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21768">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21768).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21769">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21769).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21770">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21770).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21771">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21771).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='2308-5']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='2308-5']" id="a-21772">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2308-5" Buttonhole cannulation (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:21772).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.115'])=1" id="a-21775">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21775) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.115" (CONF:21776).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21777">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21777).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22726">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22726).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M63"/>
</axsl:template>
<axsl:template mode="M63" priority="-1" match="text()"/>
<axsl:template mode="M64" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.118']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.118']" id="r-2.16.840.1.113883.10.20.5.6.118-errors"/>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor='UNK'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor='UNK'" id="a-21779-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If it is not known whether the target statement was contraindicated, the value of @nullFlavor SHALL be UNK. If the value of @nullFlavor is set to UNK then the value of @negationInd SHALL NOT be set (CONF:21779).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21780">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21780).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21781">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21781).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor='UNK'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor='UNK'" id="a-21783-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the target statement was contraindicated, the value of @negationInd SHALL be false. If the target statement was not contraindicated, the value of @negationInd SHALL be true. If the value of @negationInd is set then the value of @nullFlavor SHALL NOT be set (CONF:21783).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.118'])=1" id="a-21785">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21785) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.118" (CONF:21795).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21786">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21786).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21787">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21787).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-21788">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:21788).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21789">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21789).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21790">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21790).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-21791">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:21791).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][@code='410536001']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][@code='410536001']" id="a-21792">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="410536001" Contraindicated (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21792).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21793-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Set the observation/id equal to an ID on the problem list to signify that problem as an indication (CONF:21793).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M64"/>
</axsl:template>
<axsl:template mode="M64" priority="-1" match="text()"/>
<axsl:template mode="M65" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.134']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.134']" id="r-2.16.840.1.113883.10.20.5.6.134-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-21796">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21796).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21797">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21797).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21798">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21798).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.134'])=1" id="a-21801">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21801) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.134" (CONF:21802).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-21803">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:21803).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21804">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21804).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='2307-7'][@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='2307-7'][@codeSystem='2.16.840.1.113883.6.277']" id="a-21805-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record imputability of a positive blood culture to the suspected source of contamination, the value of @code SHALL be 2307-7 Imputability of positive blood culture to the suspected source 2.16.840.1.113883.6.277 cdcNHSN (CONF:21805).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-21806">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:21806).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-21807">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:21807).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-21808">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:21808).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-21809-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) Report, (CONF:21809).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and @negationInd='false')"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and @negationInd='false')" id="a-21810-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the observation's @negationInd SHALL be 'false' (CONF:21810).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code='60022001'] [@codeSystem='2.16.840.1.113883.6.96'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and cda:value[@code='60022001'] [@codeSystem='2.16.840.1.113883.6.96'])" id="a-21811-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of @code SHALL be 60022001 Possible 2.16.840.1.113883.6.96 SNOMED CT (CONF:21811).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-22757">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:22757).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M65"/>
</axsl:template>
<axsl:template mode="M65" priority="-1" match="text()"/>
<axsl:template mode="M66" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.128']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.128']" id="r-2.16.840.1.113883.10.20.5.6.128-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.128'])=1" id="a-22160">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22160) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.128" (CONF:22161).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22162">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22162).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22163">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22163).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28107">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28107).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-21992">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:21992).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-21993">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:21993).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-21994">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:21994).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21995">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21995).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='423827005' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='423827005' and @codeSystem='2.16.840.1.113883.6.96']" id="a-21996">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="423827005" Endoscopy (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:21996).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M66"/>
</axsl:template>
<axsl:template mode="M66" priority="-1" match="text()"/>
<axsl:template mode="M67" priority="3999" match="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.116']">
<fired-rule role="" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.116']" id="r-2.16.840.1.113883.10.20.5.6.116-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.116'])=1" id="a-22965">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22965) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.116" (CONF:22967).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22966">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22966).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor]" id="a-22968">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor (CONF:22968).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ACT'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ACT'" id="a-22005">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22005).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22006">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22006).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd='false'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd='false'" id="a-22007">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd="false" (CONF:22007).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.179'])=1][count(cda:sequenceNumber[@value='1'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.179'])=1][count(cda:sequenceNumber[@value='1'])=1])=1" id="a-22008">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:22008) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:22009). SHALL contain exactly one [1..1] Central-Line Insertion Preparation Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.179) (CONF:22010). SHALL contain exactly one [1..1] sequenceNumber (CONF:22011). This sequenceNumber SHALL contain exactly one [1..1] @value="1" (CONF:22012).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.163'])=1][count(cda:sequenceNumber[@value='2'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.163'])=1][count(cda:sequenceNumber[@value='2'])=1])=1" id="a-22013">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:22013) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:22014). SHALL contain exactly one [1..1] Solutions Dried Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.163) (CONF:22015). SHALL contain exactly one [1..1] sequenceNumber (CONF:22016). This sequenceNumber SHALL contain exactly one [1..1] @value="2" (CONF:22017).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22018">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22018).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3108-8' and @codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3108-8' and @codeSystem='2.16.840.1.113883.6.277']" id="a-22019">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3108-8" Central line insertion practice (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:22019).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M67"/>
</axsl:template>
<axsl:template mode="M67" priority="-1" match="text()"/>
<axsl:template mode="M68" priority="3999" match="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.179']">
<fired-rule role="" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.179']" id="r-2.16.840.1.113883.10.20.5.6.179-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-22086">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22086).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22087">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22087).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.179'])=1" id="a-22088">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22088) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.179" (CONF:22089).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22090">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22090).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22091">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22091).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.130'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.130'])=1])=1" id="a-22092">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22092) such that it SHALL contain exactly one [1..1] Hand Hygiene Performed Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.130) (CONF:23057).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.183'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.183'])=1])=1" id="a-22093">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22093) such that it SHALL contain exactly one [1..1] Skin-Preparation Solutions Applied Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.183) (CONF:23058).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.167'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.167'])=1])=1" id="a-22094">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22094) such that it SHALL contain exactly one [1..1] Sterile Barriers Applied Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.167) (CONF:23059).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22733">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22733).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-23060">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:23060).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M68"/>
</axsl:template>
<axsl:template mode="M68" priority="-1" match="text()"/>
<axsl:template mode="M69" priority="3999" match="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.180']">
<fired-rule role="" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.180']" id="r-2.16.840.1.113883.10.20.5.6.180-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-22101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22102">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22102).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.180'])=1" id="a-22103">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22103) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.180" (CONF:22104).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22106">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22106).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-22107">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:22107).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-23061">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:23061).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.119'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.119'])=1]" id="a-23062">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such components SHALL contain exactly one [1..1] Criterion of Diagnosis Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.119) (CONF:23062).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M69"/>
</axsl:template>
<axsl:template mode="M69" priority="-1" match="text()"/>
<axsl:template mode="M70" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.119']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.119']" id="r-2.16.840.1.113883.10.20.5.6.119-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22126">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22126).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22127">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22127).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-22128">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:22128).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.119'])=1" id="a-22129">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22129) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.119" (CONF:22140).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22130">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22130).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22131">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22131).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-22132">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:22132).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22133">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22133).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22134">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22134).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-22135">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:22135).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or                                                  @root='2.16.840.1.113883.10.20.5.33' or                                                  @root='2.16.840.1.113883.10.20.5.34'] ) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or                                                  @root='2.16.840.1.113883.10.20.5.33' or                                                  @root='2.16.840.1.113883.10.20.5.34'] and             cda:value[@xsi:type='CD' and  @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value           ] )"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or @root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] ) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.32' or @root='2.16.840.1.113883.10.20.5.33' or @root='2.16.840.1.113883.10.20.5.34'] and cda:value[@xsi:type='CD' and @code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value ] )" id="a-22136-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an infection-type report, a criterion is reported as a code. The value of @xsi:type SHALL be CD and the value of @code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3195 NHSNCriterionOfDiagnosisCode DYNAMIC (CONF:22136).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22137-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In an Evidence of Infection (Dialysis) Report, (CONF:22137).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or      (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and              (cda:value[@xsi:type='CD'] and      cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value])  or (cda:value[@xsi:type='ST'] and cda:value   )) "/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37']) or (/cda:ClinicalDocument/cda:templateId[@root='2.16.840.1.113883.10.20.5.37'] and (cda:value[@xsi:type='CD'] and cda:value[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3195']/voc:code/@value]) or (cda:value[@xsi:type='ST'] and cda:value ))" id="a-22138-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a criterion of diagnosis as a code, the value of @xsi:type SHALL be CD and the value of @code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3195 NHSNCriterionOfDiagnosisCode DYNAMIC (CONF:22138).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22139-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record a criterion not included in the NHSNCriterionOfDiagnosisCode value set, the value of @xsi:type SHALL be ST and a text value SHALL be present (CONF:22139).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22736">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22736).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M70"/>
</axsl:template>
<axsl:template mode="M70" priority="-1" match="text()"/>
<axsl:template mode="M71" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.130']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.130']" id="r-2.16.840.1.113883.10.20.5.6.130-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-22141">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22141).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22142">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22142).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-22143">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:22143).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.130'])=1" id="a-22144">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22144) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.130" (CONF:22145).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22146">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22146).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22147">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22147).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3109-6' and @codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3109-6' and @codeSystem='2.16.840.1.113883.6.277']" id="a-22148">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3109-6" Hand hygiene (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:22148).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22149">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22149).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22150">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22150).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22752">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22752).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M71"/>
</axsl:template>
<axsl:template mode="M71" priority="-1" match="text()"/>
<axsl:template mode="M72" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.129']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.129']" id="r-2.16.840.1.113883.10.20.5.6.129-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-22151">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22151).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22152">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22152).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-22153">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:22153).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.129'])=1" id="a-22154">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22154) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.129" (CONF:22155).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22156">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22156).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22157">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22157).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='3121-1' and @codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='3121-1' and @codeSystem='2.16.840.1.113883.6.277']" id="a-22158">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="3121-1" Central line exchanged over guidewire (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:22158).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22159">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22159).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22751">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22751).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28108">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28108).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M72"/>
</axsl:template>
<axsl:template mode="M72" priority="-1" match="text()"/>
<axsl:template mode="M73" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.136']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.136']" id="r-2.16.840.1.113883.10.20.5.6.136-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22164">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22164).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22165">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22165).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.136'])=1" id="a-22166">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22166) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.136" (CONF:22167).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22168">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22168).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root])  and (cda:id[@extension=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:id[@root=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@root]) and (cda:id[@extension=//cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139']/cda:id/@extension])" id="a-22169-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the id SHALL be the same as the value of the id element in the Infection-type Observation (templateId 2.16.840.1.113883.10.20.5.6.139) (CONF:22169).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22170">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22170).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22172">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22172).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22173">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22173).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[count(self::node()[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4'])=1]" id="a-22174">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4) (CONF:22174).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M73"/>
</axsl:template>
<axsl:template mode="M73" priority="-1" match="text()"/>
<axsl:template mode="M74" priority="3999" match="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.133']">
<fired-rule role="" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.133']" id="r-2.16.840.1.113883.10.20.5.6.133-errors"/>
<axsl:choose>
<axsl:when test="@negationInd or @nullFlavor='UNK'"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd or @nullFlavor='UNK'" id="a-22186-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If it is not known whether the outpatient was hospitalized, the value of act/@nullFlavor SHALL be UNK (CONF:22186).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@classCode='ACT'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ACT'" id="a-22187">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22187).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22188">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22188).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22190-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the outpatient was hospitalized, the value of act/@negationInd SHALL be false. If the outpatient was not hospitalized, the value of act/@negationInd SHALL be true (CONF:22190).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.133'])=1" id="a-22191">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22191) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.133" (CONF:22192).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22193">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22193).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22194">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22194).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='32485007' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='32485007' and @codeSystem='2.16.840.1.113883.6.96']" id="a-22195">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="32485007" Hospital Admission (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22195).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22756">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22756).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M74"/>
</axsl:template>
<axsl:template mode="M74" priority="-1" match="text()"/>
<axsl:template mode="M75" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.132']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.132']" id="r-2.16.840.1.113883.10.20.5.6.132-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22196">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22196).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22197">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22197).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-22198">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:22198).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.132'])=1" id="a-22199">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22199) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.132" (CONF:22200).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22201">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22201).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22202">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22202).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']" id="a-22203">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:22203).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22204">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22204).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22205">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22205).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='CD'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='CD'])=1" id="a-22206">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:22206).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='CD'][count(self::node()[@code='2404-2'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='CD'][count(self::node()[@code='2404-2'])=1]" id="a-22207">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="2404-2" Removed within 48 hours prior (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277 STATIC) (CONF:22207).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22755">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22755).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M75"/>
</axsl:template>
<axsl:template mode="M75" priority="-1" match="text()"/>
<axsl:template mode="M76" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.127']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.127']" id="r-2.16.840.1.113883.10.20.5.6.127-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22208">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22208).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22209">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22209).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])=1" id="a-22210">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22210) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.127" (CONF:22211).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22212">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22212).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='289248003' and @codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='289248003' and @codeSystem='2.16.840.1.113883.6.96']" id="a-22213">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="289248003" Duration of labor (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22213).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22214">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22214).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22215">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22215).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='IVL_TS'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='IVL_TS'])=1" id="a-22216">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="IVL_TS" (CONF:22216).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='IVL_TS'][count(cda:width)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='IVL_TS'][count(cda:width)=1]" id="a-22217">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] width (CONF:22217).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='IVL_TS']/cda:width[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='IVL_TS']/cda:width[@value]" id="a-22218">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This width SHALL contain exactly one [1..1] @value (CONF:22218).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='IVL_TS']/cda:width[@unit]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='IVL_TS']/cda:width[@unit]" id="a-22219">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This width SHALL contain exactly one [1..1] @unit (CONF:22219).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value[@xsi:type='IVL_TS'][@xsi:type='IVL_TS']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value[@xsi:type='IVL_TS'][@xsi:type='IVL_TS']" id="a-22220">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @xsi:type, where the @code="IVL_TS" (CONF:22220).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:value/cda:width/@value &gt;= 0"/>
<axsl:otherwise>
<failed-assert role="" test="cda:value/cda:width/@value &gt;= 0" id="a-22221-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of width/@value SHALL be a non-negative real number representation the duration of labor in terms of the units specified in @unit (CONF:22221).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M76"/>
</axsl:template>
<axsl:template mode="M76" priority="-1" match="text()"/>
<axsl:template mode="M77" priority="3999" match="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.181']">
<fired-rule role="" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.181']" id="r-2.16.840.1.113883.10.20.5.6.181-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-22222">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22222).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22223">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22223).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.181'])=1" id="a-22224">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22224) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.181" (CONF:22225).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22226">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22226).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22227">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22227).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22228">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22228).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-22229">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22229).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[count(cda:low)=1]" id="a-22230">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22230).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.157'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.157'])=1])=1" id="a-22231">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22231) such that it SHALL contain exactly one [1..1] Pus, Redness, or Increased Swelling Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.157) (CONF:22232).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.140'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.140'])=1])=1" id="a-22233">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22233) such that it SHALL contain exactly one [1..1] IV Antibiotic Start Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.140) (CONF:22234).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.141'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.141'])=1])=1" id="a-22235">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22235) such that it SHALL contain exactly one [1..1] IV Antifungal Start Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.141) (CONF:22236).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.149'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.149'])=1])=1" id="a-22237">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22237) such that it SHALL contain exactly one [1..1] Positive Blood Culture Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.149) (CONF:22238).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22771">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22771).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M77"/>
</axsl:template>
<axsl:template mode="M77" priority="-1" match="text()"/>
<axsl:template mode="M78" priority="3999" match="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182']">
<fired-rule role="" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182']" id="r-2.16.840.1.113883.10.20.5.6.182-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-22239">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22239).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22240">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22240).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.182'])=1" id="a-22241">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22241) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.182" (CONF:22242).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22243">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22243).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22244">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22244).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22245">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22245).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])=1])=1" id="a-22246">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22246) such that it SHALL contain exactly one [1..1] Pathogen Identified Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.145) (CONF:22247).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.147'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.147'])=1])=1" id="a-22248">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22248) such that it SHALL contain exactly one [1..1] Pathogen Ranking Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.147) (CONF:22249).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22770">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22770).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M78"/>
</axsl:template>
<axsl:template mode="M78" priority="-1" match="text()"/>
<axsl:template mode="M79" priority="3999" match="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.183']">
<fired-rule role="" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.183']" id="r-2.16.840.1.113883.10.20.5.6.183-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-22252">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22252).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22253">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22253).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.183'])=1" id="a-22254">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22254) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.183" (CONF:22255).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22257">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22257).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22258">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22258).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-22260">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:22260).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162'])=1]" id="a-22261">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such components SHALL contain exactly one [1..1] Skin Preparation Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.162) (CONF:22261).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162']/cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code or (@originalText and @nullText='OTH')]) &gt;= 1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component/cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.162']/cda:consumable/cda:manufacturedProduct/cda:manufacturedMaterial/cda:code[@code or (@originalText and @nullText='OTH')]) &gt;= 1" id="a-22262-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>A component containing a Skin Preparation Clinical Statement SHALL be present for each skin-preparation solution required by the NHSN protocol. One additional such component element MAY be present recording an uncoded (text) skin-preparation solution (CONF:22262).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M79"/>
</axsl:template>
<axsl:template mode="M79" priority="-1" match="text()"/>
<axsl:template mode="M80" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.33']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.33']" id="r-2.16.840.1.113883.10.20.5.5.33-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.33'])=1" id="a-22266">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22266) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.33" (CONF:22267).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22268">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22268).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22269">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22269).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'])=1]) = (1 or 2)"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'])=1]) = (1 or 2)" id="a-23203">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one and not more than 2 entry (CONF:23203) such that it SHALL contain exactly one [1..1] Infection Risk Factors Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.138) (CONF:23204).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@ICU-or-Other='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@ICU-or-Other='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)" id="a-23205-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an ICU/Other location (ICU or any other location except for SCA or NICU), this entry element SHALL be present containing an Infection Risk Factors Observation representing whether a central line was present (CONF:23205).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@SCA='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1003-3'])=1 and count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1005-8'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@SCA='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1003-3'])=1 and count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1005-8'])=1)" id="a-23206-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an SCA location, an entry element SHALL be present containing an Infection Risk Factors Observation representing whether a permanent central line was present, and an entry element containing an Infection Risk Factors Observation representing whether a Temporary Central Line was present (CONF:23206).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.138'][cda:value/@code='1002-5' or cda:value/@code='1003-3' or cda:value/@code='1005-8'])=1)" id="a-23207-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an NICU location, an entry element SHALL be present containing an Infection Risk Factors Observation representing whether a central line was present (CONF:23207).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.137'][cda:code/@code='364589006'])=1)"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:code[document('hai_voc.xml')/voc:systems/voc:system/voc:code[@NICU='X']/@value=@code]) or (count(cda:entry/cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.137'][cda:code/@code='364589006'])=1)" id="a-23210-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the location type represents an NICU location, an entry element SHALL be present containing an Infection Risk Factors Measurement Observation representing the birth weight (CONF:23210).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M80"/>
</axsl:template>
<axsl:template mode="M80" priority="-1" match="text()"/>
<axsl:template mode="M81" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.34']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.34']" id="r-2.16.840.1.113883.10.20.5.5.34-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22273">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22273).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22274">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22274).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-22275">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22275).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.116'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.116'])=1]" id="a-22276">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Central-Line Insertion Practice Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.116) (CONF:22276).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.34'])=1" id="a-22277">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22277) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.34" (CONF:22278).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M81"/>
</axsl:template>
<axsl:template mode="M81" priority="-1" match="text()"/>
<axsl:template mode="M82" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.35']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.35']" id="r-2.16.840.1.113883.10.20.5.5.35-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.35'])=1" id="a-22279">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22279) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.35" (CONF:22280).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22281">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22281).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22282">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22282).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.156'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.156'])=1])=1" id="a-22283">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22283) such that it SHALL contain exactly one [1..1] Procedure Risk Factors Clinical Statement in a Procedure Report (R1) (templateId:2.16.840.1.113883.10.20.5.6.156) (CONF:22284).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.170'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.170'])=1])=1" id="a-22285">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22285) such that it SHALL contain exactly one [1..1] Trauma Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.170) (CONF:22286).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.123'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.123'])=1])=1" id="a-22287">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22287) such that it SHALL contain exactly one [1..1] Diabetes Mellitus Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.123) (CONF:22288).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.131'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.131'])=1])=1" id="a-22289">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22289) such that it SHALL contain exactly one [1..1] Height Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.131) (CONF:22290).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.173'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.173'])=1])=1" id="a-22291">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22291) such that it SHALL contain exactly one [1..1] Weight Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.173) (CONF:22292).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP']) or (/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP'] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP']) or (/cda:ClinicalDocument/cda:componentOf/cda:encompassingEncounter/cda:code[@code='IMP'] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.113'])" id="a-23213-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient is an inpatient (componentOf/encompassingEncounter/code/@code="IMP"), an entry element SHALL be present containing an ASA Class Observation (CONF:23213).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']]) or (//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']]) or (//*[cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43']][cda:entry/cda:procedure/cda:code[@code='2115-4']] and cda:entry/cda:observation/cda:templateId[@root='2.16.840.1.113883.10.20.5.6.127'])" id="a-23216-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the procedure, recorded in the Details Section of the report, was a Cesarean (code/@code is 2115-4), an entry element SHALL be present containing a Duration of Labor Observation (CONF:23216).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M82"/>
</axsl:template>
<axsl:template mode="M82" priority="-1" match="text()"/>
<axsl:template mode="M83" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.36']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.36']" id="r-2.16.840.1.113883.10.20.5.5.36-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22296">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22296).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22297">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22297).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-22298">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22298).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.171'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.171'])=1]" id="a-22299">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Urinary Catheter Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.171) (CONF:22299).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.36'])=1" id="a-22300">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22300) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.36" (CONF:22301).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M83"/>
</axsl:template>
<axsl:template mode="M83" priority="-1" match="text()"/>
<axsl:template mode="M84" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.37']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.37']" id="r-2.16.840.1.113883.10.20.5.5.37-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.37'])=1" id="a-22302">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22302) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.37" (CONF:22303).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22304">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22304).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51898-5' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22305">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51898-5" Risk Factors Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22305).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.125'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.125'])=1])=1" id="a-22306">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22306) such that it SHALL contain exactly one [1..1] Dialysis Patient Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.125) (CONF:22307).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.172'])=1]) = (6)"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.172'])=1]) = (6)" id="a-22308">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain [6..6] entry (CONF:22308) such that it SHALL contain exactly one [1..1] Vascular Access Type Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.172) (CONF:22309).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M84"/>
</axsl:template>
<axsl:template mode="M84" priority="-1" match="text()"/>
<axsl:template mode="M85" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.38']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.38']" id="r-2.16.840.1.113883.10.20.5.5.38-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.38'])=1" id="a-22310">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22310) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.38" (CONF:22311).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22312">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22312).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22313">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22313).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139'])=1])=1" id="a-22314">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22314) such that it SHALL contain exactly one [1..1] Infection-Type Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.139) (CONF:22315).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M85"/>
</axsl:template>
<axsl:template mode="M85" priority="-1" match="text()"/>
<axsl:template mode="M86" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.39']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.39']" id="r-2.16.840.1.113883.10.20.5.5.39-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.39'])=1" id="a-22320">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22320) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.39" (CONF:22321).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22322">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22322).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22323">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22323).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139'])=1])=1" id="a-22324">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22324) such that it SHALL contain exactly one [1..1] Infection-Type Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.139) (CONF:22325).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M86"/>
</axsl:template>
<axsl:template mode="M86" priority="-1" match="text()"/>
<axsl:template mode="M87" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.40']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.40']" id="r-2.16.840.1.113883.10.20.5.5.40-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.40'])=1" id="a-22328">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22328) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.40" (CONF:22329).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22330">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22330).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22331">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22331).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.139'])=1])=1" id="a-22332">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22332) such that it SHALL contain exactly one [1..1] Infection-Type Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.139) (CONF:22333).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M87"/>
</axsl:template>
<axsl:template mode="M87" priority="-1" match="text()"/>
<axsl:template mode="M88" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.41']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.41']" id="r-2.16.840.1.113883.10.20.5.5.41-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.41'])=1" id="a-22338">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22338) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.41" (CONF:22339).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22340">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22340).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22341">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22341).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.181'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.181'])=1])=1" id="a-22342">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22342) such that it SHALL contain exactly one [1..1] Infection Indicator Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.181) (CONF:22343).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.180'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.180'])=1])=1" id="a-22344">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22344) such that it SHALL contain exactly one [1..1] Criteria of Diagnosis Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.180) (CONF:22345).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.133'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.133'])=1])=1" id="a-22346">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22346) such that it SHALL contain exactly one [1..1] Hospital Admission Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.133) (CONF:22347).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.121'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.121'])=1])=1" id="a-22348">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22348) such that it SHALL contain exactly one [1..1] Death Observation in an Evidence of Infection (Dialysis) Report (R1) (templateId:2.16.840.1.113883.10.20.5.6.121) (CONF:22349).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.124'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.124'])=1])=1" id="a-22350">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22350) such that it SHALL contain exactly one [1..1] Dialysis Clinic Admission Clinical Statement (R1) (templateId:2.16.840.1.113883.10.20.5.6.124) (CONF:22351).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M88"/>
</axsl:template>
<axsl:template mode="M88" priority="-1" match="text()"/>
<axsl:template mode="M89" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.42']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.42']" id="r-2.16.840.1.113883.10.20.5.5.42-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.42'])=1" id="a-22352">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22352) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.42" (CONF:22353).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22354">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22354).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22355">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22355).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-22356">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22356).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.155'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.155'])=1]" id="a-22357">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Procedure Details Clinical Statement in a CLIP Report (R1) (templateId:2.16.840.1.113883.10.20.5.6.155) (CONF:22357).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M89"/>
</axsl:template>
<axsl:template mode="M89" priority="-1" match="text()"/>
<axsl:template mode="M90" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.43']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.43']" id="r-2.16.840.1.113883.10.20.5.5.43-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.43'])=1" id="a-22358">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22358) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.43" (CONF:22359).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22360">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22360).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51899-3' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22361">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51899-3" Details Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22361).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-22362">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22362).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.153'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.153'])=1]" id="a-22363">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Procedure Details Clinical Statement in a Procedure Report (R1) (templateId:2.16.840.1.113883.10.20.5.6.153) (CONF:22363).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M90"/>
</axsl:template>
<axsl:template mode="M90" priority="-1" match="text()"/>
<axsl:template mode="M91" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.44']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.44']" id="r-2.16.840.1.113883.10.20.5.5.44-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.44'])=1" id="a-22364">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22364) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.44" (CONF:22365).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22366">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22366).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='46240-8' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='46240-8' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22367">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="46240-8" History of Encounters (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22367).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry)=1" id="a-22368">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22368).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.151'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.151'])=1]" id="a-22369">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entry SHALL contain exactly one [1..1] Prior Discharge Encounter (R1) (templateId:2.16.840.1.113883.10.20.5.6.151) (CONF:22369).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M91"/>
</axsl:template>
<axsl:template mode="M91" priority="-1" match="text()"/>
<axsl:template mode="M92" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45']" id="r-2.16.840.1.113883.10.20.5.5.45-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.45'])=1" id="a-22371">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22371) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.45" (CONF:22372).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22373">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22373).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18769-0' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18769-0' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22374">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22374).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])" id="a-23050-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If pathogens were identified, the Findings Section SHALL contain at least one and no more than three entry elements containing a Findings Organizer reporting pathogens identified (CONF:23050).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])"/>
<axsl:otherwise>
<failed-assert role="" test="not(not(cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.182'])) or (cda:entry/*[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.145'])" id="a-23053-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If no pathogens were identified, the Findings Section SHALL contain a single entry element containing a Pathogen Identified Observation reporting that no pathogens were identified (CONF:23053).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23056-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If pathogens were identified, and the report is not an EOID Report, an entry element SHALL be present, containing an MDRO/CDI Observation (CONF:23056).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M92"/>
</axsl:template>
<axsl:template mode="M92" priority="-1" match="text()"/>
<axsl:template mode="M93" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.46']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.46']" id="r-2.16.840.1.113883.10.20.5.5.46-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.46'])=1" id="a-22378">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22378) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.46" (CONF:22379).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22380">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22380).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18769-0' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18769-0' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22381">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18769-0" Findings Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22381).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.146'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.146'])=1])=1" id="a-22382">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22382) such that it SHALL contain exactly one [1..1] Pathogen Identified Observation (LIO) (R1) (templateId:2.16.840.1.113883.10.20.5.6.146) (CONF:22383).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.161'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.161'])=1])=1" id="a-22384">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:22384) such that it SHALL contain exactly one [1..1] Significant Pathogens Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.161) (CONF:22385).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M93"/>
</axsl:template>
<axsl:template mode="M93" priority="-1" match="text()"/>
<axsl:template mode="M94" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.47']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.47']" id="r-2.16.840.1.113883.10.20.5.5.47-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.47'])=1" id="a-22386">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22386) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.47" (CONF:22387).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22388">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22388).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22389">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22389).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-22390">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:22390).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.184'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.184'])=1]" id="a-22391">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (R1) (templateId:2.16.840.1.113883.10.20.5.6.184) (CONF:22391).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M94"/>
</axsl:template>
<axsl:template mode="M94" priority="-1" match="text()"/>
<axsl:template mode="M95" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.184']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.184']" id="r-2.16.840.1.113883.10.20.5.6.184-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-22392">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22392).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22393">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22393).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.184'])=1" id="a-22394">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22394) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.184" (CONF:22395).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-22397">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22397) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22398). SHALL contain exactly one [1..1] participantRole (CONF:22399). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22400).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-22401-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:22401).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22402-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:22402).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22403-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is ?PLC? and id/@root is present (CONF:22403).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-22404">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:22404).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-22405">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:22405).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]" id="a-22406">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.185) (CONF:22406).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M95"/>
</axsl:template>
<axsl:template mode="M95" priority="-1" match="text()"/>
<axsl:template mode="M96" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185']" id="r-2.16.840.1.113883.10.20.5.6.185-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22407">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22407).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22408">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22408).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.185'])=1" id="a-22409">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22409) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.185" (CONF:22410).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22411">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22411).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode[@code='completed'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode[@code='completed'])=1" id="a-22412">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22412).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-22413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:22413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-26183-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:26183).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M96"/>
</axsl:template>
<axsl:template mode="M96" priority="-1" match="text()"/>
<axsl:template mode="M97" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.28']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.4.28']" id="r-2.16.840.1.113883.10.20.5.4.28-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M97"/>
</axsl:template>
<axsl:template mode="M97" priority="-1" match="text()"/>
<axsl:template mode="M98" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.32']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.32']" id="r-2.16.840.1.113883.10.20.5.32-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.32'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.32'])=1" id="a-22460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.32" (CONF:22461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-22462">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:22462).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-22463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:22463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-22464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:22464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-22465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-22466">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:22466). Note: Admission Date</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]" id="a-22468">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The high, if present, SHALL contain exactly one [1..1] @value (CONF:22468). Note: Discharge Date</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-22469">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:22469).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-22470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:22470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-22471">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:22471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-22472">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-22473">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of healthCareFacility/id/@extension must be a value previously registered with NHSN. This id SHALL contain exactly one [1..1] @extension (CONF:22473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-22474">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC (CONF:22474).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22476">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22476).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22477">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22477).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.33'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.33'])=1])=1]" id="a-22478">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22478) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a BSI Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.33) (CONF:22479).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.38'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.38'])=1])=1]" id="a-22480">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22480) such that it SHALL contain exactly one [1..1] Infection Details Section in a BSI Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.38) (CONF:22481).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45'])=1])=1]" id="a-22482">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22482) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.45) (CONF:22483).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23359-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:23359).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M98"/>
</axsl:template>
<axsl:template mode="M98" priority="-1" match="text()"/>
<axsl:template mode="M99" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.33']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.33']" id="r-2.16.840.1.113883.10.20.5.33-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.33'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.33'])=1" id="a-22484">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22484) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.33" (CONF:22485).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-22486">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:22486).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-22487">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:22487).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]" id="a-22488">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code (ValueSet: NHSNEncounterTypeCode 2.16.840.1.113883.13.1 STATIC 2009-01-30) (CONF:22488).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-22490">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:22490).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]" id="a-22492">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The high, if present, SHALL contain exactly one [1..1] @value (CONF:22492). Note: Discharge Date</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-22493">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:22493).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-22494">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:22494).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-22495">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:22495).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-22496">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22496).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22501">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22501).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22502">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22502).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.39'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.39'])=1])=1]" id="a-22503">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22503) such that it SHALL contain exactly one [1..1] Infection Details Section in an SSI Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.39) (CONF:22504).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45'])=1])=1]" id="a-22505">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22505) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.45) (CONF:22506).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-27762">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:27762).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-27763">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:27763). Note: Admission Date</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M99"/>
</axsl:template>
<axsl:template mode="M99" priority="-1" match="text()"/>
<axsl:template mode="M100" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.34']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.34']" id="r-2.16.840.1.113883.10.20.5.34-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.34'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.34'])=1" id="a-22507">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22507) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.34" (CONF:27433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-22509">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:22509).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-22510">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:22510).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-22511">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:22511).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-22512">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22512).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@value]" id="a-22513">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @value (CONF:22513). Note: Admission Date</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high) or cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:high[@value]" id="a-22515">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The high, if present, SHALL contain exactly one [1..1] @value (CONF:22515). Note: Discharge Date</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-22516">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:22516).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-22517">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:22517).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-22518">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:22518).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-22519">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22519).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-22520">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of healthCareFacility/id/@extension must be a value previously registered with NHSN. This id SHALL contain exactly one [1..1] @extension (CONF:22520).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-22521">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code (ValueSet: NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC) (CONF:22521).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22523">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22523).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22524">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22524).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.36'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.36'])=1])=1]" id="a-22525">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22525) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a UTI Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.36) (CONF:22526).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.40'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.40'])=1])=1]" id="a-22527">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22527) such that it SHALL contain exactly one [1..1] Infection Details Section in a UTI Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.40) (CONF:22528).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.45'])=1])=1]" id="a-22529">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22529) such that it SHALL contain exactly one [1..1] Findings Section in an Infection-Type Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.45) (CONF:22530).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23362-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:23362).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M100"/>
</axsl:template>
<axsl:template mode="M100" priority="-1" match="text()"/>
<axsl:template mode="M101" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.35']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.35']" id="r-2.16.840.1.113883.10.20.5.35-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.35'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.35'])=1" id="a-22531">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22531) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.35" (CONF:22532).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-22533">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:22533).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-22534">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:22534).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]" id="a-22535">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code (ValueSet: NHSNEncounterTypeCode 2.16.840.1.113883.13.1 STATIC 2009-01-30) (CONF:22535).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-22537">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:22537).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-22538">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:22538).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-22539">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:22539).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-22540">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22540).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:code[@code != 'IMP'] or (cda:componentOf/cda:encompassingEncounter/cda:code[@code = 'IMP'] and cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low/@value)"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code != 'IMP'] or (cda:componentOf/cda:encompassingEncounter/cda:code[@code = 'IMP'] and cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low/@value)" id="a-22544-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the patient is an inpatient (code/@code='IMP'), admission date is recorded: An effectiveTime element SHALL be present. This effectiveTime SHALL [1..1] contain a low element. This low element SHALL [1..1] contain @value (CONF:22544).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22545">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22545).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22546">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22546).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.43'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.43'])=1])=1]" id="a-22547">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22547) such that it SHALL contain exactly one [1..1] Procedure Details Section in a Procedure Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.43) (CONF:22548).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.35'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.35'])=1])=1]" id="a-22551">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22551) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a Procedure Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.35) (CONF:22552).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M101"/>
</axsl:template>
<axsl:template mode="M101" priority="-1" match="text()"/>
<axsl:template mode="M102" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.36']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.36']" id="r-2.16.840.1.113883.10.20.5.36-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.36'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.36'])=1" id="a-22553">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22553) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.36" (CONF:22554).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-22555">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:22555).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-22556">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:22556).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-22557">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:22557).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-22558">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22558).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[count(self::node()[@nullFlavor='NI'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[count(self::node()[@nullFlavor='NI'])=1]" id="a-22559">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NI" No information (CodeSystem: HL7NullFlavor 2.16.840.1.113883.5.1008 STATIC) (CONF:22559).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-22560">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:22560).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-22561">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:22561).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-22562">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:22562).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-22563">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22563).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-22564">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of healthCareFacility/id/@extension must be a value previously registered with NHSN. This id SHALL contain exactly one [1..1] @extension (CONF:22564).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-22565">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC (CONF:22565).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22567">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22567).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22568">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22568).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.34'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.34'])=1])=1]" id="a-22569">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22569) such that it SHALL contain exactly one [1..1] Infection Risk Factors Section in a CLIP Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.34) (CONF:22570).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.42'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.42'])=1])=1]" id="a-22571">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22571) such that it SHALL contain exactly one [1..1] Procedure Details Section in a CLIP Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.42) (CONF:22572).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M102"/>
</axsl:template>
<axsl:template mode="M102" priority="-1" match="text()"/>
<axsl:template mode="M103" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.37']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.37']" id="r-2.16.840.1.113883.10.20.5.37-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.37'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.37'])=1" id="a-22573">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22573) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.37" (CONF:22574).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-22575">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:22575).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-22576">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:22576).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code)=1]" id="a-22577">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code (CONF:22577).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB' and @codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:code[@code='AMB' and @codeSystem='2.16.840.1.113883.5.4']" id="a-22578">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="AMB" Ambulatory (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:22578).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-22579">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:22579).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-22580">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22580).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime/cda:low[@nullFlavor='NA']" id="a-22581">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This low SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor 2.16.840.1.113883.5.1008 STATIC) (CONF:22581).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-22582">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:22582).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-22583">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:22583).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-22584">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:22584).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-22585">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22585).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@extension]" id="a-22586">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of healthCareFacility/id/@extension must be a value previously registered with NHSN. This id SHALL contain exactly one [1..1] @extension (CONF:22586).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:code)=1]" id="a-22587">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] code (ValueSet: NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC) (CONF:22587).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22589">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22589).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22590">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22590).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.37'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.37'])=1])=1]" id="a-22591">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22591) such that it SHALL contain exactly one [1..1] Risk Factors Section in an Evidence of Infection (Dialysis) Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.37) (CONF:22592).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.41'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.41'])=1])=1]" id="a-22593">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22593) such that it SHALL contain exactly one [1..1] Details Section in an Evidence of Infection (Dialysis) Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.41) (CONF:22594).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23304-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If a positive blood culture was obtained SHALL contain a component containing a Findings Section in an Infection-type Report (CONF:23304).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M103"/>
</axsl:template>
<axsl:template mode="M103" priority="-1" match="text()"/>
<axsl:template mode="M104" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.38']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.38']" id="r-2.16.840.1.113883.10.20.5.38-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.27'])=1" id="a-22415">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22415) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.27" (CONF:22416).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22417">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22417).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22418">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22418).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]" id="a-22419">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain at least one [1..*] id (CONF:22419).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@root]" id="a-22420">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @root (CONF:22420).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@extension]" id="a-22421">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @extension (CONF:22421).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]" id="a-22422">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] patient (CONF:22422).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]" id="a-22424">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] administrativeGenderCode (CONF:22424).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:administrativeGenderCode[@code]" id="a-22425">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This administrativeGenderCode SHALL contain exactly one [1..1] @code (CodeSystem: AdministrativeGender 2.16.840.1.113883.5.1 STATIC) (CONF:22425).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]" id="a-22426">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patient SHALL contain exactly one [1..1] birthTime (CONF:22426).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime[@value]" id="a-22427">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This birthTime SHALL contain exactly one [1..1] @value (CONF:22427).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.38'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.38'])=1" id="a-22597">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22597) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.38" (CONF:22598).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:componentOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:componentOf)=1" id="a-22599">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] componentOf (CONF:22599).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf[count(cda:encompassingEncounter)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf[count(cda:encompassingEncounter)=1]" id="a-22600">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This componentOf SHALL contain exactly one [1..1] encompassingEncounter (CONF:22600).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.1']/voc:code/@value])=1]" id="a-22601">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNEncounterTypeCode 2.16.840.1.113883.13.1 STATIC (CONF:22601).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]" id="a-22603">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:22603).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:effectiveTime[count(cda:low)=1]" id="a-22604">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22604).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter[count(cda:location)=1]" id="a-22606">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This encompassingEncounter SHALL contain exactly one [1..1] location (CONF:22606).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location[count(cda:healthCareFacility)=1]" id="a-22607">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This location SHALL contain exactly one [1..1] healthCareFacility (CONF:22607).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility[count(cda:id)=1]" id="a-22608">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This healthCareFacility SHALL contain exactly one [1..1] id (CONF:22608).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:componentOf/cda:encompassingEncounter/cda:location/cda:healthCareFacility/cda:id[@root]" id="a-22609">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22609).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22610">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22610).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22611">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22611).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.46'])=1])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.46'])=1])=1]" id="a-22612">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22612) such that it SHALL contain exactly one [1..1] Findings Section in a LIO Report (R1) (templateId:2.16.840.1.113883.10.20.5.5.46) (CONF:22613).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23306-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If encounter type is IMP, effectiveTime/low/@value is required; if encounter type is AMB, effectiveTime/low/@nullFlavor="NA" (CONF:23306).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23360-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The value of the admission date SHALL NOT be earlier than January 1, 1986; SHALL NOT be earlier than the date of birth; and SHALL NOT be later than the event date (CONF:23360).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M104"/>
</axsl:template>
<axsl:template mode="M104" priority="-1" match="text()"/>
<axsl:template mode="M105" priority="3999" match="cda:Observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.186']">
<fired-rule role="" context="cda:Observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.186']" id="r-2.16.840.1.113883.10.20.5.6.186-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22632">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:22632).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22633">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:22633).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.186'])=1" id="a-22634">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22634) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.186" (CONF:22635).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22636">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22636).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22637">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22637).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7161']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7161']/voc:code/@value])=1" id="a-22638">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNAntibioticSuscTest 2.16.840.1.114222.4.11.7161 STATIC (CONF:22638).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22639">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22639).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22640">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:22640).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-22641">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22641).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22642">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22642).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value[@xsi:type='IVL_PQ'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value[@xsi:type='IVL_PQ'])=1" id="a-22643">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value with @xsi:type="IVL_PQ" (CONF:22643).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@negationInd"/>
<axsl:otherwise>
<failed-assert role="" test="@negationInd" id="a-22699">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @negationInd (CONF:22699).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:interpretationCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:interpretationCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.13']/voc:code/@value])=1" id="a-23101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] interpretationCode, which SHALL be selected from ValueSet NHSNDrugSusceptibilityFindingCode 2.16.840.1.113883.13.13 (CONF:23101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M105"/>
</axsl:template>
<axsl:template mode="M105" priority="-1" match="text()"/>
<axsl:template mode="M106" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.187']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.187']" id="r-2.16.840.1.113883.10.20.5.6.187-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-22649">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22649).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22650">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22650).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.187'])=1" id="a-22651">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22651) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.187" (CONF:22652).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22653">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22653).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22654">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:22654).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-22655">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22655).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22656">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22656).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant)=1" id="a-22657">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22657).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[@typeCode='LOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[@typeCode='LOC']" id="a-22658">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22658).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant[count(cda:participantRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant[count(cda:participantRole)=1]" id="a-22659">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participant SHALL contain exactly one [1..1] participantRole (CONF:22659).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[@classCode='SDLOC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[@classCode='SDLOC']" id="a-22660">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22660).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:id)=1]" id="a-22661">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] id (CONF:22661).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@root]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@root]" id="a-22662">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root (CONF:22662).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:id[@extension]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:id[@extension]" id="a-22663">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @extension (CONF:22663).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole[count(cda:playingEntity)=1]" id="a-22664">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:22664).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[@classCode='PLC']" id="a-22665">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] @classCode="PLC" Place (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22665).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-22666">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC (CONF:22666).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M106"/>
</axsl:template>
<axsl:template mode="M106" priority="-1" match="text()"/>
<axsl:template mode="M107" priority="3999" match="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.188']">
<fired-rule role="" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.188']" id="r-2.16.840.1.113883.10.20.5.6.188-errors"/>
<axsl:choose>
<axsl:when test="@classCode='PROC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='PROC'" id="a-22668">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22668).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22669">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22669).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.188'])=1" id="a-22670">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22670) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.188" (CONF:22671).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-22672">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22672).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@value]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@value]" id="a-22673">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @value (CONF:22673).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.187'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.187'])=1])=1" id="a-22681">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:22681) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:22682). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:22683). SHALL contain exactly one [1..1] Specimen Collection Encounter (ARO) (R1) (templateId:2.16.840.1.113883.10.20.5.6.187) (CONF:22684).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:specimen)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:specimen)=1" id="a-27160">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] specimen (CONF:27160).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:specimen[count(cda:specimenRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:specimen[count(cda:specimenRole)=1]" id="a-27161">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This specimen SHALL contain exactly one [1..1] specimenRole (CONF:27161).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:specimen/cda:specimenRole[count(cda:specimenPlayingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:specimen/cda:specimenRole[count(cda:specimenPlayingEntity)=1]" id="a-27162">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This specimenRole SHALL contain exactly one [1..1] specimenPlayingEntity (CONF:27162).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:specimen/cda:specimenRole/cda:specimenPlayingEntity[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3249']/voc:code/@value])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:specimen/cda:specimenRole/cda:specimenPlayingEntity[count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3249']/voc:code/@value])=1]" id="a-27163">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This specimenPlayingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNSpecimenTypeCode 2.16.840.1.114222.4.11.3249 (CONF:27163).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.201'])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.201'])=1]) &gt; 0" id="a-27164">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:27164) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:27165). SHALL contain exactly one [1..1] Isolate Susceptibility Tests Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.201) (CONF:27166). SHALL contain exactly one [1..1] @inversionInd="true" (CONF:27432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M107"/>
</axsl:template>
<axsl:template mode="M107" priority="-1" match="text()"/>
<axsl:template mode="M108" priority="3999" match="cda:Observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.189']">
<fired-rule role="" context="cda:Observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.189']" id="r-2.16.840.1.113883.10.20.5.6.189-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22687">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:22687).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22688">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:22688).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.189'])=1" id="a-22689">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22689) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.189" (CONF:22690).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22691">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22691).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-22692">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22692).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7160']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.7160']/voc:code/@value])=1" id="a-22693">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNStaphAureusSpecificTest 2.16.840.1.114222.4.11.7160 STATIC (CONF:22693).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22694">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22694).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22695">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:22695).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-22696">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:22696).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:effectiveTime[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:effectiveTime[@nullFlavor='NA']" id="a-22697">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:22697).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-22698">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:22698).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M108"/>
</axsl:template>
<axsl:template mode="M108" priority="-1" match="text()"/>
<axsl:template mode="M109" priority="3999" match="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.190']">
<fired-rule role="" context="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.190']" id="r-2.16.840.1.113883.10.20.5.6.190-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-22700">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:22700).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22701">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:22701).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.190'])=1" id="a-22702">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22702) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.190" (CONF:22703).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-22704">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:22704).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22705">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22705).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22706">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:22706).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22707">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22707).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-22708">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:22708).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.189'])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.189'])=1]) &gt; 0" id="a-22709">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:22709) such that it SHALL contain exactly one [1..1] ARO Staph Aureus Specific Tests Result Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.189) (CONF:22710).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-23365">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:23365).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M109"/>
</axsl:template>
<axsl:template mode="M109" priority="-1" match="text()"/>
<axsl:template mode="M110" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.40']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.40']" id="r-2.16.840.1.113883.10.20.5.40-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.40'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.40'])=1" id="a-22793">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22793) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.40" (CONF:22794).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22795">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22795).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22796">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22796).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-22797">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22797).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.47'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.47'])=1]" id="a-22798">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (R1) (templateId:2.16.840.1.113883.10.20.5.5.47) (CONF:22798).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for intensive care unit (icu)/other locations (not nicu or sca) report'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for intensive care unit (icu)/other locations (not nicu or sca) report'])=1" id="a-22799">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Intensive Care Unit (ICU)/Other Locations (not NICU or SCA) Report" (CONF:22799).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22800">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22800).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22801">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22801).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22802">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:22802).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1879-6']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1879-6']" id="a-22803">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1879-6" Summary data reporting catheter and ventilator use in an ICU (CONF:22803).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-22804">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:22804).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M110"/>
</axsl:template>
<axsl:template mode="M110" priority="-1" match="text()"/>
<axsl:template mode="M111" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.41']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.41']" id="r-2.16.840.1.113883.10.20.5.41-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.41'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.41'])=1" id="a-22805">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22805) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.41" (CONF:22806).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for neonatal intensive care unit (nicu)'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for neonatal intensive care unit (nicu)'])=1" id="a-22807">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Neonatal Intensive Care Unit (NICU)" (CONF:22807).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22808">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22808).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22809">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22809).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22810">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:22810).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1881-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1881-2']" id="a-22811">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1881-2" Summary data reporting catheter and ventilator use in a NICU (CONF:22811).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-22812">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:22812).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22813">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22813).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22814">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22814).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-22815">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22815).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.48'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.48'])=1]" id="a-22816">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (NICU) (R1) (templateId:2.16.840.1.113883.10.20.5.5.48) (CONF:22816).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M111"/>
</axsl:template>
<axsl:template mode="M111" priority="-1" match="text()"/>
<axsl:template mode="M112" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.191']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.191']" id="r-2.16.840.1.113883.10.20.5.6.191-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-22817">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22817).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22818">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22818).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.191'])=1" id="a-22819">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22819) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.191" (CONF:22820).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-22821">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22821) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22822). SHALL contain exactly one [1..1] participantRole (CONF:22823). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22824).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-22825-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:22825).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22826-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:22826).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22827-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is ?PLC? and id/@root is present (CONF:22827).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][count(cda:participantRole[@classCode='PRS'][count(cda:code)=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][count(cda:participantRole[@classCode='PRS'][count(cda:code)=1])=1])=1" id="a-22828">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22828) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90) (CONF:22829). SHALL contain exactly one [1..1] participantRole (CONF:22830). This participantRole SHALL contain exactly one [1..1] @classCode="PRS" (CodeSystem: EntityClass 2.16.840.1.113883.5.41) (CONF:22831). This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationCategoryCode 2.16.840.1.114222.4.11.3234 STATIC 2009-06-25 (CONF:22832).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-22834">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:22834).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-22835">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:22835).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]" id="a-22836">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.185) (CONF:22836).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M112"/>
</axsl:template>
<axsl:template mode="M112" priority="-1" match="text()"/>
<axsl:template mode="M113" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.48']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.48']" id="r-2.16.840.1.113883.10.20.5.5.48-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.48'])=1" id="a-22837">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22837) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.48" (CONF:22838).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22839">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22839).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22840">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22840).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-22841">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:22841).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.191'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.191'])=1]" id="a-22842">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (NICU) (R1) (templateId:2.16.840.1.113883.10.20.5.6.191) (CONF:22842).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M113"/>
</axsl:template>
<axsl:template mode="M113" priority="-1" match="text()"/>
<axsl:template mode="M114" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.42']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.42']" id="r-2.16.840.1.113883.10.20.5.42-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.42'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.42'])=1" id="a-22843">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22843) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.42" (CONF:22844).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for specialty care area (sca)'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for specialty care area (sca)'])=1" id="a-22845">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Specialty Care Area (SCA)" (CONF:22845).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22846">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22846).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22847">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22847).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22848">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:22848).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1880-4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1880-4']" id="a-22849">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1880-4" Summary data reporting catheter and ventilator use in a SCA (CONF:22849).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-22850">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:22850).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22851">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22851).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22852">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22852).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-22853">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22853).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.47'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.47'])=1]" id="a-22854">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (R1) (templateId:2.16.840.1.113883.10.20.5.5.47) (CONF:22854).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M114"/>
</axsl:template>
<axsl:template mode="M114" priority="-1" match="text()"/>
<axsl:template mode="M115" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.192']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.192']" id="r-2.16.840.1.113883.10.20.5.6.192-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22855">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22855).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22856">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22856).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.192'])=1" id="a-22857">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22857) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.192" (CONF:22858).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22859">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22859).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22860">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22860).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-22861">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:22861).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22862-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record which organism was monitored (code/@code 3193-0 AST Organism Monitored), the value of value/@code SHALL be selected from Value Set NHSNOrganismASTCode 2.16.840.1.114222.4.11.3283 DYNAMIC (CONF:22862).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22863-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record the timing of monitoring (code/@code 1870-5 Timing), the value of value/@code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3247 NHSNTimingCode STATIC 20091030 (CONF:22863).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22864-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record eligibility criteria for monitoring (code/@code 1871-3 Eligibility), the value of value/@code SHALL be selected from Value Set 2.16.840.1.114222.4.11.3248 NHSNEligibilityCode DYNAMIC (CONF:22864).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-23371-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:23371).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]" id="a-23373">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Summary Data Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.185) (CONF:23373).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-23374-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>To record which organism was monitored (code/@code 3193-0 AST Organism Monitored) this observation SHALL contain, as entryRelationships where the value of @typeCode is COMP, Summary Data Observations recording the data collected for that class. The specific data required are specified by the NHSN protocol (CONF:23374).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28112">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28112).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M115"/>
</axsl:template>
<axsl:template mode="M115" priority="-1" match="text()"/>
<axsl:template mode="M116" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.193']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.193']" id="r-2.16.840.1.113883.10.20.5.6.193-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-22866">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22866).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22867">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22867).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.193'])=1" id="a-22868">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22868) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.193" (CONF:22869).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-22870">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22870) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22871). SHALL contain exactly one [1..1] participantRole (CONF:22872). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22873).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-22874-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:22874).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22875-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:22875).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22876-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is ?PLC? and id/@root is present (CONF:22876).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-22877">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:22877).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-22878">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:22878).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.192'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.192'])=1]" id="a-22879">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (POM) (R1) (templateId:2.16.840.1.113883.10.20.5.6.192) (CONF:22879).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M116"/>
</axsl:template>
<axsl:template mode="M116" priority="-1" match="text()"/>
<axsl:template mode="M117" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.49']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.49']" id="r-2.16.840.1.113883.10.20.5.5.49-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.49'])=1" id="a-22880">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22880) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.49" (CONF:22881).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22882">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22882).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22883">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22883).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-22884">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:22884).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.193'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.193'])=1]" id="a-22885">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (POM) (R1) (templateId:2.16.840.1.113883.10.20.5.6.193) (CONF:22885).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M117"/>
</axsl:template>
<axsl:template mode="M117" priority="-1" match="text()"/>
<axsl:template mode="M118" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.43']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.43']" id="r-2.16.840.1.113883.10.20.5.43-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.43'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.43'])=1" id="a-22886">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22886) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.43" (CONF:22887).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='prevention process and outcome measures (pom) monthly monitoring'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='prevention process and outcome measures (pom) monthly monitoring'])=1" id="a-22888">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Prevention Process and Outcome Measures (POM) Monthly Monitoring" (CONF:22888).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22889">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22889).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22890">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22890).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22891">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:22891).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1884-6']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1884-6']" id="a-22892">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1884-6" Summary data reporting Active Surveillance Testing (CONF:22892).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-22893">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:22893).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22894">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22894).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22895">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22895).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-22896">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22896).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.49'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.49'])=1]" id="a-22897">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (POM) (R1) (templateId:2.16.840.1.113883.10.20.5.5.49) (CONF:22897).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M118"/>
</axsl:template>
<axsl:template mode="M118" priority="-1" match="text()"/>
<axsl:template mode="M119" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.44']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.44']" id="r-2.16.840.1.113883.10.20.5.44-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.44'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.44'])=1" id="a-22898">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22898) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.44" (CONF:22899).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='antimicrobial use, pharmacy option (aup) summary report'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='antimicrobial use, pharmacy option (aup) summary report'])=1" id="a-22900">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Antimicrobial Use, Pharmacy Option (AUP) Summary Report" (CONF:22900).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22901">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22901).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22902">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22902).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22903">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:22903).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1887-9']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='1887-9']" id="a-22904">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="1887-9" Summary data reporting antimicrobial usage (CONF:22904).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-22905">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:22905).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22906">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22906).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22907">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22907).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-22908">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22908).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.51'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.51'])=1]" id="a-22909">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (AUP) (R1) (templateId:2.16.840.1.113883.10.20.5.5.51) (CONF:22909).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M119"/>
</axsl:template>
<axsl:template mode="M119" priority="-1" match="text()"/>
<axsl:template mode="M120" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.194']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.194']" id="r-2.16.840.1.113883.10.20.5.6.194-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22910">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22910).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22911">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22911).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.194'])=1" id="a-22912">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22912) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.194" (CONF:22913).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22914">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22914).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22915">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:22915).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-22916">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:22916).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-22917-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:22917).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3361']/voc:code/@value])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:methodCode[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.114222.4.11.3361']/voc:code/@value])=1" id="a-23044">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] methodCode, which SHALL be selected from ValueSet NHSNRouteOfAdminstrationAURPCode 2.16.840.1.114222.4.11.3361 (CONF:23044).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28111">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28111).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M120"/>
</axsl:template>
<axsl:template mode="M120" priority="-1" match="text()"/>
<axsl:template mode="M121" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.45']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.45']" id="r-2.16.840.1.113883.10.20.5.45-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.45'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.45'])=1" id="a-22921">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22921) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.45" (CONF:22922).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='maintenance hemodialysis patients stratified by vascular access type report'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='maintenance hemodialysis patients stratified by vascular access type report'])=1" id="a-22923">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Maintenance Hemodialysis Patients Stratified by Vascular Access Type Report" (CONF:22923).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22924">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22924).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22925">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22925).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22926">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:22926).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2316-8']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code='2316-8']" id="a-22927">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="2316-8" Summary dialysis data reporting vascular access types in maintenance (chronic) hemodialysis patients (CONF:22927).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-22928">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:22928).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22929">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22929).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22930">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22930).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-22931">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22931).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.50'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.50'])=1]" id="a-22932">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (VAT) (R1) (templateId:2.16.840.1.113883.10.20.5.5.50) (CONF:22932).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M121"/>
</axsl:template>
<axsl:template mode="M121" priority="-1" match="text()"/>
<axsl:template mode="M122" priority="3999" match="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.195']">
<fired-rule role="" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.195']" id="r-2.16.840.1.113883.10.20.5.6.195-errors"/>
<axsl:choose>
<axsl:when test="@classCode='OBS'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='OBS'" id="a-22933">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22933).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22934">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22934).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.195'])=1" id="a-22935">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22935) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.195" (CONF:22936).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22937">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22937).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-22938">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:22938).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:value)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:value)=1" id="a-22939">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] value (CONF:22939).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']" id="a-22941">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:22941).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]" id="a-22942">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The entryRelationship, if present, SHALL contain exactly one [1..1] Summary Data Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.185) (CONF:22942).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-22943-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a VAT Report, the Summary Observation recording the number of patients with fistula SHALL contain an entryRelationship where the value of @typeCode is COMP, that contains a Summary Data Observation recording the number of those patients with buttonhole cannulation (CONF:22943).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:value/@xsi:type='PQ' and cda:value/@unit='d') or (cda:value/@xsi:type='INT') or (cda:value/@xsi:type='CD')" id="a-22944-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the observation reports a number of days, the value of value/xsi:type SHALL be PQ and the value of value/@unit SHALL be d. If the observation reports a number of patients, the value of value/@xsi:type SHALL be INT. If the value is a code, the value of value/@xsi:type SHALL be CD (CONF:22944).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-28113">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:28113).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M122"/>
</axsl:template>
<axsl:template mode="M122" priority="-1" match="text()"/>
<axsl:template mode="M123" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.50']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.50']" id="r-2.16.840.1.113883.10.20.5.5.50-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.50'])=1" id="a-22945">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22945) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.50" (CONF:22946).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-22947">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:22947).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']" id="a-22948">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:22948).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-22949">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:22949).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.196'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.196'])=1]" id="a-22950">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (VAT) (R1) (templateId:2.16.840.1.113883.10.20.5.6.196) (CONF:22950).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M123"/>
</axsl:template>
<axsl:template mode="M123" priority="-1" match="text()"/>
<axsl:template mode="M124" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.196']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.196']" id="r-2.16.840.1.113883.10.20.5.6.196-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-22951">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22951).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22952">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22952).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.196'])=1" id="a-22953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22953) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.196" (CONF:22954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-22955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22955) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22956). SHALL contain exactly one [1..1] participantRole (CONF:22957). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22958).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-22959-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location (CONF:22959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22960-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:22960).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22961-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet NHSNHealthcareServiceLocationCode 2.16.840.1.113883.13.19 DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is ?PLC? and id/@root is present (CONF:22961).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-22962">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:22962).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-22963">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:22963).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.195'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.195'])=1]" id="a-22964">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (VAT) (R1) (templateId:2.16.840.1.113883.10.20.5.6.195) (CONF:22964).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M124"/>
</axsl:template>
<axsl:template mode="M124" priority="-1" match="text()"/>
<axsl:template mode="M125" priority="3999" match="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.46']">
<fired-rule role="" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.5.46']" id="r-2.16.840.1.113883.10.20.5.46-errors"/>
<axsl:choose>
<axsl:when test="count(cda:realmCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:realmCode)=1" id="a-18431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] realmCode (CONF:18431).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:realmCode[count(self::node()[@code='US'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:realmCode[count(self::node()[@code='US'])=1]" id="a-18432">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This realmCode SHALL contain exactly one [1..1] @code="US" (CONF:18432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-18433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:18433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51897-7']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51897-7']" id="a-18434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51897-7" Healthcare Associated Infection Report (CONF:18434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-18435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The preferred title content for each report type is given in Report-Specific Constraints. SHALL contain exactly one [1..1] title (CONF:18435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:effectiveTime)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:effectiveTime)=1" id="a-18436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] effectiveTime (CONF:18436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:confidentialityCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:confidentialityCode)=1" id="a-18437-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a confidentiality code that indicates the sensitivity of the document. All HAI submissions carry the same value of "normal". Note that this designation does not affect local policy on safeguarding confidentiality of patient-identifiable personal health information. SHALL contain exactly one [1..1] confidentialityCode (CONF:18437).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:confidentialityCode[count(self::node()[@code='N'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:confidentialityCode[count(self::node()[@code='N'])=1]" id="a-18438">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This confidentialityCode SHALL contain exactly one [1..1] @code="N" Normal (CodeSystem: ConfidentialityCode 2.16.840.1.113883.5.25 STATIC) (CONF:18438).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:languageCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:languageCode)=1" id="a-18439">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] languageCode (CONF:18439).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:languageCode[@code='en-US']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:languageCode[@code='en-US']" id="a-18440">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This languageCode SHALL contain exactly one [1..1] @code="en-US" (CONF:18440).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:setId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:setId)=1" id="a-18441">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] setId (CONF:18441).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:versionNumber)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:versionNumber)=1" id="a-18442">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] versionNumber (CONF:18442).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:custodian)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:custodian)=1" id="a-18443">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires that the document custodian be recorded. The NHSN is the custodian of NHSN HAI Reports. SHALL contain exactly one [1..1] custodian (CONF:18443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian[count(cda:assignedCustodian)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian[count(cda:assignedCustodian)=1]" id="a-18444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:18444).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]" id="a-18445">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:18445).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id)=1]" id="a-18446">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This representedCustodianOrganization SHALL contain exactly one [1..1] id (CONF:18446).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[@root='2.16.840.1.114222.4.3.2.11']" id="a-18447">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @root="2.16.840.1.114222.4.3.2.11" (CONF:18447).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-18448">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:18448).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-18449">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:18449).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18450-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The structuredBody element SHALL contain a component element for each section required by the particular report type. Additional sections may be present but their content will not be processed by NHSN (CONF:18450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.25'])=1" id="a-18460">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:18460) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.25" (CONF:18461).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:typeId)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:typeId)=1" id="a-18463">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] typeId (CONF:18463).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@root='2.16.840.1.113883.1.3']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@root='2.16.840.1.113883.1.3']" id="a-18464">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:18464).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:typeId[@extension='POCD_HD000040']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:typeId[@extension='POCD_HD000040']" id="a-18465">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:18465).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-18466-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a ClinicalDocument/id element representing a unique identifier for the document. The id may be represented by either @root or @root plus @extension, so long as the resulting id is globally unique. CDA provides id, setId, versionNumber, and relatedDocument elements to support succession management (document versioning). The id element identifies the CDA document instance (the electronic file). It is independent of the setId and versionNumber elements. SHALL contain exactly one [1..1] id (CONF:18466).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']"/>
<axsl:otherwise>
<failed-assert role="" test="not(cda:relatedDocument) or cda:relatedDocument[@typeCode='RPLC']" id="a-18470">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The relatedDocument, if present, SHALL contain exactly one [1..1] @typeCode="RPLC" replace (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:18470).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-18471-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If versionNumber/@value is greater than 1, a relatedDocument element SHALL be present (CONF:18471).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget) &gt; 0" id="a-18472-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>CDA requires a recordTarget element that must contain a patientRole element. This is represented differently in single-person and population summary reports. See the subsections for single-person and population summary reports for details of how to represent the patient or group subject. SHALL contain at least one [1..*] recordTarget (CONF:18472).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:author) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:author) &gt; 0" id="a-18473-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>In a single-person report, the author may be software or may be a person in the role of infection control professional (ICP). In a population summary report, the author will be the software forming the message. The effect of the CDA Release 2.0 requirements is: An author element shall be present. The author element shall contain a time element that represents the time of authoring of the information, and an assignedAuthor element that represents the author of the information. The assignedAuthor element shall contain an id element. [CDA R2] When the report author is vendor software, it can record the software installation id, an email address, and the vendor name. SHALL contain at least one [1..*] author (CONF:18473).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-18475-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain at least one [1..*] component (CONF:18475).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem]" id="a-27413">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27413).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.28'])=1" id="a-22431">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22431) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.28" (CONF:22432).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:recordTarget)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:recordTarget)=1" id="a-22433">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] recordTarget (CONF:22433).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget[count(cda:patientRole)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget[count(cda:patientRole)=1]" id="a-22434">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This recordTarget SHALL contain exactly one [1..1] patientRole (CONF:22434).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole[count(cda:id)=1]" id="a-22435">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This patientRole SHALL contain exactly one [1..1] id (CONF:22435).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:recordTarget/cda:patientRole/cda:id[@nullFlavor='NA']" id="a-22436">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" not applicable (CONF:22436).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='SBJ'][@contextControlCode][count(cda:associatedEntity[@classCode='PRS'][count(cda:code[@code='389109008'])=1])=1])=1" id="a-22437">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22437) such that it SHALL contain exactly one [1..1] @typeCode="SBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22438). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22439). SHALL contain exactly one [1..1] associatedEntity (CONF:22440). This associatedEntity SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:22441). This associatedEntity SHALL contain exactly one [1..1] code (CONF:22442). This code SHALL contain exactly one [1..1] @code="389109008" Group (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:22443).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][@contextControlCode][count(cda:associatedEntity[@classCode='SDLOC'][count(cda:id[@root])=1])=1])=1" id="a-22444">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22444) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:22445). SHALL contain exactly one [1..1] @contextControlCode (CodeSystem: HL7 Context Control Code 2.16.840.1.113883.5.1057 STATIC) (CONF:22446). SHALL contain exactly one [1..1] associatedEntity (CONF:22447). This associatedEntity SHALL contain exactly one [1..1] @classCode="SDLOC" Service delivery location (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:22448). This associatedEntity SHALL contain exactly one [1..1] id (CONF:22449). This id SHALL contain exactly one [1..1] @root (CONF:22450).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22451">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22451).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22452">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22452).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[@classCode='CASE']" id="a-22453">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] @classCode="CASE" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22453).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22454">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPopulationSummaryReportTypeCode 2.16.840.1.114222.4.11.3595 DYNAMIC (CONF:22454).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]" id="a-22456">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:22456).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]" id="a-22457">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] low (CONF:22457).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:high)=1]" id="a-22458">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This effectiveTime SHALL contain exactly one [1..1] high (CONF:22458).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-22459-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>The author SHALL represent the software forming the message (CONF:22459).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.46'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.46'])=1" id="a-22969">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22969) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.46" (CONF:22970).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for antimicrobial resistance option (aro)'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='denominator for antimicrobial resistance option (aro)'])=1" id="a-22971">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title="Denominator for Antimicrobial Resistance Option (ARO)" (CONF:22971).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:documentationOf)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:documentationOf)=1" id="a-22972">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] documentationOf (CONF:22972).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf[count(cda:serviceEvent)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf[count(cda:serviceEvent)=1]" id="a-22973">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This documentationOf SHALL contain exactly one [1..1] serviceEvent (CONF:22973).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent[count(cda:code)=1]" id="a-22974">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This serviceEvent SHALL contain exactly one [1..1] code (CONF:22974).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@code]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@code]" id="a-22975">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CONF:22975).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:documentationOf/cda:serviceEvent/cda:code[@codeSystem='2.16.840.1.113883.6.277']" id="a-22976">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.277" (CodeSystem: cdcNHSN 2.16.840.1.113883.6.277) (CONF:22976).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component)=1" id="a-22977">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] component (CONF:22977).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:structuredBody)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:structuredBody)=1]" id="a-22978">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] structuredBody (CONF:22978).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody[count(cda:component)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody[count(cda:component)=1]" id="a-22979">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This structuredBody SHALL contain exactly one [1..1] component (CONF:22979).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.52'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component/cda:structuredBody/cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.52'])=1]" id="a-22980">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This component SHALL contain exactly one [1..1] Summary Data Section (ARO) (R1) (templateId:2.16.840.1.113883.10.20.5.5.52) (CONF:22980).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M125"/>
</axsl:template>
<axsl:template mode="M125" priority="-1" match="text()"/>
<axsl:template mode="M126" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.197']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.197']" id="r-2.16.840.1.113883.10.20.5.6.197-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-22995">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:22995).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-22996">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:22996).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.197'])=1" id="a-22997">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:22997) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.197" (CONF:22998).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-22999">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:22999) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:23000). SHALL contain exactly one [1..1] participantRole (CONF:23001). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:23002).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-23003-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location (CONF:23003).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23004-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:23004).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23005-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19 NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is ?PLC? and id/@root is present (CONF:23005).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-23006">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:23006).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-23007">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:23007).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]" id="a-23008">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.185) (CONF:23008).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23011-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This Summary Encounter SHALL contain a Summary Data element that records Number of Patient-present Days for the reporting location (CONF:23011).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23012-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the reporting location is facility-wide inpatient units, this Summary Encounter SHALL contain a second Summary Data element that records Number of Admissions (CONF:23012).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M126"/>
</axsl:template>
<axsl:template mode="M126" priority="-1" match="text()"/>
<axsl:template mode="M127" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.51']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.51']" id="r-2.16.840.1.113883.10.20.5.5.51-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.51'])=1" id="a-23013">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:23013) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.51" (CONF:23014).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-23015">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:23015).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']" id="a-23016">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:23016).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.197'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.197'])=1])=1" id="a-23017">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entry (CONF:23017) such that it SHALL contain exactly one [1..1] Summary Encounter Patient Presence (AUP) (R1) (templateId:2.16.840.1.113883.10.20.5.6.197) (CONF:23018).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.198'])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.198'])=1]) &gt; 0" id="a-23046">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:23046) such that it SHALL contain exactly one [1..1] Summary Encounter (AUP) (R1) (templateId:2.16.840.1.113883.10.20.5.6.198) (CONF:23047).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M127"/>
</axsl:template>
<axsl:template mode="M127" priority="-1" match="text()"/>
<axsl:template mode="M128" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.198']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.198']" id="r-2.16.840.1.113883.10.20.5.6.198-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-23019">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:23019).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-23020">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:23020).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.198'])=1" id="a-23021">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:23021) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.198" (CONF:23022).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'])=1])=1" id="a-23023">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:23023) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:23024). SHALL contain exactly one [1..1] participantRole (CONF:23025). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:23026).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]])  or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])"/>
<axsl:otherwise>
<failed-assert role="" test="(cda:participant/cda:participantRole[cda:id[@root and @extension] and cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value]]) or cda:participant/cda:participantRole/cda:id[@root and not(@extension)] or (cda:participant/cda:participantRole/cda:code[@code=document('hai_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.13.19']/voc:code/@value] and cda:participant/cda:participantRole/cda:scopingEntity[@classCode='PLC'][cda:id[@root]])" id="a-23027-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If recording data from an in-facility location, the participantRole element shall contain an id element with both @root and @extension, and a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location (CONF:23027).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23028-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from the whole facility, the participantRole element shall contain an id element with @root (CONF:23028).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23029-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Or, if recording data from a specialized subset of a facility, the participantRole element shall contain a code element where the value is selected from ValueSet 2.16.840.1.113883.13.19 NHSNHealthcareServiceLocationCode DYNAMIC, recording the type of location, and a scopingEntity element where the value of @classCode is ?PLC? and id/@root is present (CONF:23029).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='CSM'][count(cda:participantRole[count(cda:code)=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='CSM'][count(cda:participantRole[count(cda:code)=1])=1])=1" id="a-23030">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:23030) such that it SHALL contain exactly one [1..1] @typeCode="CSM" Consumable (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90) (CONF:23031). SHALL contain exactly one [1..1] participantRole (CONF:23032). This participantRole SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNAntimicrobialAgentAURPCode 2.16.840.1.114222.4.11.3360 DYNAMIC (CONF:23034).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1])=1" id="a-23036">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:23036) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:23037). SHALL contain exactly one [1..1] Summary Data Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.185) (CONF:23038).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23039-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This Summary Data element records Number of Therapy Days for the antimicrobial (this is not a simple total of the stratified data; consult the NHSN protocol for the calculation) (CONF:23039).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.194'])=1]) = (4)"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.194'])=1]) = (4)" id="a-23040">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain [4..4] entryRelationship (CONF:23040) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:23041). SHALL contain exactly one [1..1] Summary Data Observation (AUP) (R1) (templateId:2.16.840.1.113883.10.20.5.6.194) (CONF:23042).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested-here)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested-here)" id="a-23043-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>These Summary Data elements record Number of Therapy Days for the antimicrobial stratified by route of actual administration (four observations, one for each route) (CONF:23043).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M128"/>
</axsl:template>
<axsl:template mode="M128" priority="-1" match="text()"/>
<axsl:template mode="M129" priority="3999" match="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.52']">
<fired-rule role="" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.5.5.52']" id="r-2.16.840.1.113883.10.20.5.5.52-errors"/>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-21953">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:21953).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']" id="a-21954">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:21954).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:title)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:title)=1" id="a-21955">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] title (CONF:21955).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:text)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:text)=1" id="a-21956">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] text (CONF:21956).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-21957">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:21957).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.4.26'])=1" id="a-21958">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:21958) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.4.26" (CONF:21959).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.5.52'])=1" id="a-23070">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:23070) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.5.52" (CONF:23071).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-23072">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:23072).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='51900-9' and @codeSystem='2.16.840.1.113883.6.1']" id="a-23073">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="51900-9" Summary Data Section (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:23073).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entry) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entry) &gt; 0" id="a-23074">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entry (CONF:23074).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.199'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.199'])=1]" id="a-23075">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entries SHALL contain exactly one [1..1] Summary Encounter (ARO) (R1) (templateId:2.16.840.1.113883.10.20.5.6.199) (CONF:23075).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M129"/>
</axsl:template>
<axsl:template mode="M129" priority="-1" match="text()"/>
<axsl:template mode="M130" priority="3999" match="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.199']">
<fired-rule role="" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.199']" id="r-2.16.840.1.113883.10.20.5.6.199-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-23077">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:23077).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-23078">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:23078).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.199'])=1" id="a-23079">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:23079) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.199" (CONF:23080).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension='FACWIDEIN'])=1][count(cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259'])=1])=1])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[@typeCode='LOC'][count(cda:participantRole[@classCode='SDLOC'][count(cda:id[@root][@extension='FACWIDEIN'])=1][count(cda:code[@code='1250-0'][@codeSystem='2.16.840.1.113883.6.259'])=1])=1])=1" id="a-23081">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participant (CONF:23081) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:23082). SHALL contain exactly one [1..1] participantRole (CONF:23083). This participantRole SHALL contain exactly one [1..1] @classCode="SDLOC" Service Delivery Location (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:23084). This participantRole SHALL contain exactly one [1..1] id (CONF:23085). This id SHALL contain exactly one [1..1] @root (CONF:23086). This id SHALL contain exactly one [1..1] @extension="FACWIDEIN" (CONF:23087). This participantRole SHALL contain exactly one [1..1] code (CodeSystem: HL7 HealthcareServiceLocation 2.16.840.1.113883.6.259 DYNAMIC) (CONF:23088). This code SHALL contain exactly one [1..1] @code="1250-0" (CONF:23089). This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.259" (CONF:23090).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship) &gt; 0" id="a-23092">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] entryRelationship (CONF:23092).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='COMP']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='COMP']" id="a-23093">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] @typeCode="COMP" Has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:23093).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.185'])=1]" id="a-23094">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such entryRelationships SHALL contain exactly one [1..1] Summary Data Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.185) (CONF:23094).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M130"/>
</axsl:template>
<axsl:template mode="M130" priority="-1" match="text()"/>
<axsl:template mode="M131" priority="3999" match="cda:Encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.124']">
<fired-rule role="" context="cda:Encounter[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.124']" id="r-2.16.840.1.113883.10.20.5.6.124-errors"/>
<axsl:choose>
<axsl:when test="@classCode='ENC'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='ENC'" id="a-23263">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="ENC" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:23263).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-23264">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:23264).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.124'])=1" id="a-23265">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:23265) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.124" (CONF:23266).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id)=1" id="a-23267">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] id (CONF:23267).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(testable)"/>
<axsl:otherwise>
<failed-assert role="" test="not(testable)" id="a-23268-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This is the id of the encompassing encounter (CONF:23268).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:entryRelationship)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:entryRelationship)=1" id="a-23269">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] entryRelationship (CONF:23269).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@typeCode='SAS']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@typeCode='SAS']" id="a-23272">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @typeCode="SAS" (CONF:23272).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[@inversionInd]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[@inversionInd]" id="a-23273">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] @inversionInd (CONF:23273).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="not(tested)"/>
<axsl:otherwise>
<failed-assert role="" test="not(tested)" id="a-23274-c">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>If the infection (dialysis event) began on or after the date the patient was admitted, set the value of @inversionInd to TRUE. If the infection (dialysis event) began before the date the patient was admitted, set the value of @inversionInd to FALSE (CONF:23274).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship[count(cda:observation)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship[count(cda:observation)=1]" id="a-23275">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This entryRelationship SHALL contain exactly one [1..1] observation (CONF:23275).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[@classCode='OBS']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[@classCode='OBS']" id="a-23276">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:23276).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[@moodCode='EVN']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[@moodCode='EVN']" id="a-23277">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:23277).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:id)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:id)=1]" id="a-23278">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] id (CONF:23278).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:code)=1]" id="a-23280">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] code (CONF:23280).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:code[@code='ASSERTION']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:code[@code='ASSERTION']" id="a-23281">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:23281).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:code[@codeSystem='2.16.840.1.113883.5.4']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:code[@codeSystem='2.16.840.1.113883.5.4']" id="a-23282">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.5.4" (CodeSystem: ActCode 2.16.840.1.113883.5.4) (CONF:23282).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:statusCode)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:statusCode)=1]" id="a-23283">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] statusCode (CONF:23283).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:statusCode[@code='completed']" id="a-23284">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:23284).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation[count(cda:value[@xsi:type='CD'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation[count(cda:value[@xsi:type='CD'])=1]" id="a-23285">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This observation SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:23285).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:id[@nullFlavor='NA']" id="a-27747">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This id SHALL contain exactly one [1..1] @nullFlavor="NA" (CodeSystem: HL7NullFlavor 2.16.840.1.113883.5.1008) (CONF:27747).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@code='40733004']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@code='40733004']" id="a-27748">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @code="40733004" Infection (CONF:27748).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:entryRelationship/cda:observation/cda:value[@xsi:type='CD'][@codeSystem='2.16.840.1.113883.6.96']" id="a-27749">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This value SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.96" (CONF:27749).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M131"/>
</axsl:template>
<axsl:template mode="M131" priority="-1" match="text()"/>
<axsl:template mode="M132" priority="3999" match="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.200']">
<fired-rule role="" context="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.200']" id="r-2.16.840.1.113883.10.20.5.6.200-errors"/>
<axsl:choose>
<axsl:when test="@classCode='BATTERY'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='BATTERY'" id="a-27103">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="BATTERY" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:27103).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-27104">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:27104).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.200'])=1" id="a-27105">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:27105) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.200" (CONF:27106).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-27107">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:27107).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-27108">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:27108).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-27109">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:27109).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-27110">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:27110).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component) &gt; 0" id="a-27111">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:27111).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.186'])=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.186'])=1]" id="a-27112">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such components SHALL contain exactly one [1..1] Antimicrobial Susceptibility Result Observation (R1) (templateId:2.16.840.1.113883.10.20.5.6.186) (CONF:27112).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2']" id="a-28101">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology Studies (CONF:28101).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']" id="a-28102">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:28102).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M132"/>
</axsl:template>
<axsl:template mode="M132" priority="-1" match="text()"/>
<axsl:template mode="M133" priority="3999" match="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.201']">
<fired-rule role="" context="cda:Organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.201']" id="r-2.16.840.1.113883.10.20.5.6.201-errors"/>
<axsl:choose>
<axsl:when test="@classCode='CLUSTER'"/>
<axsl:otherwise>
<failed-assert role="" test="@classCode='CLUSTER'" id="a-27120">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @classCode="CLUSTER" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6) (CONF:27120).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@moodCode='EVN'"/>
<axsl:otherwise>
<failed-assert role="" test="@moodCode='EVN'" id="a-27121">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001) (CONF:27121).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.201'])=1" id="a-27122">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:27122) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.201" (CONF:27123).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:id) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:id) &gt; 0" id="a-27124">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] id (CONF:27124).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:id[@nullFlavor='NA']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:id[@nullFlavor='NA']" id="a-27125">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>Such ids SHALL contain exactly one [1..1] @nullFlavor="NA" (CONF:27125).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:code)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:code)=1" id="a-27126">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] code (CONF:27126).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:code[@code='18725-2' and @codeSystem='2.16.840.1.113883.6.1']" id="a-27127">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This code SHALL contain exactly one [1..1] @code="18725-2" Microbiology studies (CodeSystem: LOINC 2.16.840.1.113883.6.1) (CONF:27127).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:statusCode)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:statusCode)=1" id="a-27128">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] statusCode (CONF:27128).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:statusCode[@code='completed']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:statusCode[@code='completed']" id="a-27129">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:27129).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.202'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participant[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.202'])=1" id="a-27130">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] Antimicrobial Susceptibility Isolate Participant (R1) (templateId:2.16.840.1.113883.10.20.5.6.202) (CONF:27130).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:component[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.177'])=1]) &gt; 0"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:component[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.177'])=1]) &gt; 0" id="a-27158">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain at least one [1..*] component (CONF:27158) such that it SHALL contain exactly one [1..1] Antimicrobial Susceptibility Tests Organizer (R1) (templateId:2.16.840.1.113883.10.20.5.6.177) (CONF:27159).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M133"/>
</axsl:template>
<axsl:template mode="M133" priority="-1" match="text()"/>
<axsl:template mode="M134" priority="3999" match="cda:Participant2[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.202']">
<fired-rule role="" context="cda:Participant2[cda:templateId/@root='2.16.840.1.113883.10.20.5.6.202']" id="r-2.16.840.1.113883.10.20.5.6.202-errors"/>
<axsl:choose>
<axsl:when test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202'])=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.5.6.202'])=1" id="a-27137">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] templateId (CONF:27137) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.5.6.202" (CONF:27138).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="@typeCode='SUBJ'"/>
<axsl:otherwise>
<failed-assert role="" test="@typeCode='SUBJ'" id="a-27150">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] @typeCode="SUBJ" (CONF:27150).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="count(cda:participantRole)=1"/>
<axsl:otherwise>
<failed-assert role="" test="count(cda:participantRole)=1" id="a-27151">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>SHALL contain exactly one [1..1] participantRole (CONF:27151).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[@classCode='ISLT']"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[@classCode='ISLT']" id="a-27152">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] @classCode="ISLT" (CONF:27152).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[count(cda:id) &gt; 0]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[count(cda:id) &gt; 0]" id="a-27153">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This is the unique isolate identifier This participantRole SHALL contain at least one [1..*] id (CONF:27153).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole[count(cda:playingEntity)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole[count(cda:playingEntity)=1]" id="a-27154">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:27154).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:choose>
<axsl:when test="cda:participantRole/cda:playingEntity[count(cda:code)=1]"/>
<axsl:otherwise>
<failed-assert role="" test="cda:participantRole/cda:playingEntity[count(cda:code)=1]" id="a-27155">
<axsl:attribute name="location">
<axsl:apply-templates mode="schematron-get-full-path" select="."/>
</axsl:attribute>
<text>This playingEntity SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet NHSNPathogenCode 2.16.840.1.113883.13.16 DYNAMIC (CONF:27155).</text>
</failed-assert>
</axsl:otherwise>
</axsl:choose>
<axsl:apply-templates mode="M134"/>
</axsl:template>
<axsl:template mode="M134" priority="-1" match="text()"/>
<axsl:template priority="-1" match="text()"/>
</axsl:stylesheet>
